<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Simon M. Mudd, School of GeoSciences, University of Edinburgh">
<title>Installing LSDTopoTools</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Installing LSDTopoTools</h1>
<div class="details">
<span id="author" class="author">Simon M. Mudd, School of GeoSciences, University of Edinburgh</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_components_of_lsdtopotools">1.1. Components of LSDTopoTools</a></li>
<li><a href="#_basic_installation">1.2. Basic installation</a></li>
<li><a href="#_lsdtopotools_python_tools">1.3. lsdtopotools Python tools</a></li>
<li><a href="#_menu_of_more_detailed_instructions">1.4. Menu of more detailed instructions</a></li>
</ul>
</li>
<li><a href="#_installing_lsdtopotools_using_docker">2. Installing LSDTopoTools using Docker</a>
<ul class="sectlevel2">
<li><a href="#_should_i_use_docker_or_vagrant">2.1. Should I use Docker or Vagrant?</a></li>
<li><a href="#_installing_docker">2.2. Installing Docker</a></li>
<li><a href="#_the_four_lsdtopotools_images">2.3. The four LSDTopoTools images</a></li>
<li><a href="#_before_you_do_anything_else_set_up_a_directory_to_share_with_docker_containers">2.4. Before you do anything else: Set up a directory to share with docker containers.</a></li>
<li><a href="#_first_option_pull_the_docker_images">2.5. First option: pull the docker images</a></li>
<li><a href="#_second_option_build_the_docker_containers">2.6. Second option: build the docker containers</a></li>
<li><a href="#_some_notes_on_docker">2.7. Some notes on Docker</a>
<ul class="sectlevel3">
<li><a href="#_docker_on_linux">2.7.1. Docker on Linux</a></li>
<li><a href="#_docker_for_windows">2.7.2. Docker for Windows</a></li>
<li><a href="#_building_a_base_image">2.7.3. Building a base image</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_installing_natively_on_a_linux_system">3. Installing natively on a Linux system</a>
<ul class="sectlevel2">
<li><a href="#_get_the_associated_software_you_need">3.1. Get the associated software you need</a></li>
<li><a href="#_option_1_use_the_script">3.2. Option 1: Use the script</a></li>
<li><a href="#_option_2_do_it_by_hand">3.3. Option 2: Do it by hand</a>
<ul class="sectlevel3">
<li><a href="#_get_the_lsdtopotools2_code_and_install">3.3.1. Get the LSDTopoTools2 code and install</a></li>
<li><a href="#_starting_an_lsdtopotools2_session_after_your_first_installation">3.3.2. Starting an LSDTopoTools2 session after your first installation</a></li>
<li><a href="#_getting_the_example_data">3.3.3. Getting the example data</a></li>
</ul>
</li>
<li><a href="#_installing_lsdtopotools_using_windows_subsystem_for_linux">3.4. Installing LSDTopoTools using Windows Subsystem for Linux</a>
<ul class="sectlevel3">
<li><a href="#_accessing_data_from_windows">3.4.1. Accessing data from Windows</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_installing_lsdtopotools_at_the_university_of_edinburgh">4. Installing LSDTopoTools at the University of Edinburgh.</a>
<ul class="sectlevel2">
<li><a href="#_mapping_your_network_drive">4.1. Mapping your network drive</a></li>
<li><a href="#_getting_on_to_our_servers_with_with_ssh_in_a_powershell_window">4.2. Getting on to our servers with with ssh in a powershell window</a></li>
<li><a href="#_downloading_and_running_the_setup_script">4.3. Downloading and running the setup script</a>
<ul class="sectlevel3">
<li><a href="#_excruciatingly_detailed_information_about_what_the_script_does_only_read_this_if_you_are_an_enthusiast_that_must_know_how_everything_works">4.3.1. Excruciatingly detailed information about what the script does (only read this if you are an enthusiast that must know how everything works)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_extra_dependencies_for_swaths_and_point_clouds">5. Extra dependencies for swaths and point clouds</a>
<ul class="sectlevel2">
<li><a href="#_install_the_point_cloud_library">5.1. Install the Point Cloud Library</a>
<ul class="sectlevel3">
<li><a href="#_ubuntu_14_and_12">5.1.1. Ubuntu 14 and 12</a></li>
<li><a href="#_ubuntu_16_04_lts">5.1.2. Ubuntu 16.04 LTS</a></li>
</ul>
</li>
<li><a href="#_extra_libraries_for_the_floodplain_and_terrace_extraction">5.2. Extra libraries for the floodplain and terrace extraction</a></li>
</ul>
</li>
<li><a href="#_installing_the_lsdtopotools_python_toolchain">6. Installing the LSDTopoTools python toolchain</a></li>
<li><a href="#_get_a_text_editor">7. Get a text editor!</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/LSD-logo.png" alt="LSD logo" width="200">
</div>
</div>
<div class="paragraph">
<p><a href="index.html">Return to main LSDTopoTools documentation page</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the installation instructions for <a href="http://lsdtopotools.github.io/"><strong>LSDTopoTools</strong></a>, which is a collection of programs for analysing topography and modelling hydrology, landscape evolution and soil development.</p>
</div>
<div class="sect2">
<h3 id="_components_of_lsdtopotools">1.1. Components of LSDTopoTools</h3>
<div class="paragraph">
<p><strong>LSDTopoTools</strong> has several components. These can be used in isolation or together.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>LSDTopoTools</strong> command line tools: these run the core computational components of <strong>LSDTopoTools</strong>. These do most of the heavy lifting of <strong>LSDTopoTools</strong>.</p>
</li>
<li>
<p><strong>lsdviztools</strong> a series of python scripts for visualising <strong>LSDTopoTools</strong> outputs. You can run these interactively but they also come with command line scripts.</p>
</li>
<li>
<p><strong>lsdtopytools</strong> a python wrapper for <strong>LSDTopoTools</strong> so you get much of the functionality of the <strong>LSDTopoTools</strong> command line tools within the python environment.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_basic_installation">1.2. Basic installation</h3>
<div class="paragraph">
<p>If you are already familiar with Linux and/or Conda this should relatively painless.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you are in a Linux or MacOS all you really need is Miniconda. You should use the python 3.8 version.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="https://docs.conda.io/en/latest/miniconda.html#macosx-installers">miniconda for MacOS</a></p>
</li>
<li>
<p><a href="https://docs.conda.io/en/latest/miniconda.html#linux-installers">miniconda for Linux</a></p>
</li>
</ol>
</div>
</li>
<li>
<p>In windows don&#8217;t install conda for windows! Create an Ubuntu subsystem <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">using these instructions</a> and install conda there.</p>
</li>
<li>
<p>Once you have conda you can install the command line tools like this:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ conda -c conda-forge install lsdtopotools</code></pre>
</div>
</div>
</li>
<li>
<p>Now you can use the command line tools!</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_lsdtopotools_python_tools">1.3. lsdtopotools Python tools</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You install <strong>lsdtopytools</strong> using conda</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ conda -c conda-forge install lsdtopytools</code></pre>
</div>
</div>
</li>
<li>
<p>You install <strong>lsdviztools</strong> using <code>pip</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ pip install lsdviztools</code></pre>
</div>
</div>
</li>
<li>
<p>These both have a bunch of dependencies so it is easier to use our docker container that has everything pre-installed. You can read about that below.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_menu_of_more_detailed_instructions">1.4. Menu of more detailed instructions</h3>
<div class="ulist">
<ul>
<li>
<p>Installation using <a href="https://www.docker.com/">Docker</a>. This works for MacOS and Linux well. It works for Windows 10 Enterprise edition. If you don&#8217;t have those operating systems you will need to use <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> + <a href="https://www.vagrantup.com/">Vagrant</a> (see below).</p>
</li>
<li>
<p>Native installation on a Linux system. If your native operating system is Linux you can just install <strong>LSDTopoTools</strong> after getting all the libraries you need. The documents are made under the assumption that you use <a href="https://www.ubuntu.com/">Ubuntu</a>, but if you are a Linux user we are confident you&#8217;ll be able to port the instructions to your native system (usually this involves replacing <code>sudo apt-get</code> with <code>sudo yum</code>).</p>
</li>
<li>
<p><a href="https://www.ed.ac.uk/">University of Edinburgh</a> installation. This software is developed at the University of Edinburgh and is used in teaching. We include instructions specific to students and staff at the University of Edinburgh for use on the <a href="https://www.ed.ac.uk/geosciences">School of GeoSciences</a> servers.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">What installation method should I use?</div>
<div class="ulist">
<ul>
<li>
<p>If you are in MacOS, Linux, we <a href="#recommend Docker">Installing LSDTopoTools using Docker</a>.</p>
</li>
<li>
<p>If you have Windows 10 enterprise and administrator privilidges, we also <a href="#recommend Docker">Installing LSDTopoTools using Docker</a>.</p>
</li>
<li>
<p>If you want better performance you can try the <a href="#_installing_natively_on_a_linux_system">native Linux installation</a> (works on both Linux and MacOS since the latter is built on top of Linux).</p>
</li>
<li>
<p>If you have Windows 10 but don&#8217;t have the Enterprise edition or access priviledges, you can do a <a href="#_installing_lsdtopotools_using_windows_subsystem_for_linux">"native" Linux installation using the Windows Linux Subsystem</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_lsdtopotools_using_docker">2. Installing LSDTopoTools using Docker</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As of October 2018, this is the preferred method to install <strong>LSDTopoTools</strong>. We have various containers on the <a href="https://hub.docker.com/u/lsdtopotools/">docker hub</a> which can be run with simple <code>pull</code> commands. The only software you need to run these is <a href="https://www.docker.com/">Docker</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Update June 2019</div>
<div class="paragraph">
<p>Docker is very easy to install on Linux and MacOS. On Windows it is a bit complicated (and possibly needs the intervention of your IT team).
This will <strong>MASSIVELY CHANGE</strong> quite soon: Windows is currently pre-releasing a fully functioning Linux subsystem that will allow Docker to be run with the same speed and efficiency as though you were on a native Linux operating system.
You can <a href="https://devblogs.microsoft.com/commandline/announcing-wsl-2/">read all about it on this blog post</a>.
Hopefully this will be fully deployed to all Windows 10 users before 2020.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Docker and <strong>LSDTopoTools</strong> quickstart</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download and install <a href="https://www.docker.com/">Docker</a>. We will assume this actually is working.</p>
</li>
<li>
<p>Create an <code>LSDTopoTools</code> directory on your host operating system that you will share with the <strong>LSDTopoTools</strong> docker containers.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>We will assume this is in <code>C:\LSDTopoTools</code> on Windows</p>
</li>
<li>
<p>Or <code>\LSDTopoTools</code> on MacOS and Linux.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pull the full <strong>LSDTopoTools</strong> container and run it with a linked volume:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For windows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run --rm -it -v C:/LSDTopoTools:/LSDTopoTools lsdtopotools/lsdtt_pcl_docker</code></pre>
</div>
</div>
</li>
<li>
<p>For MacOS or Linux:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run --rm -it -v /LSDTopoTools:/LSDTopoTools lsdtopotools/lsdtt_pcl_docker</code></pre>
</div>
</div>
</li>
<li>
<p>Or if you have a different directory to LSDTopoTools data on your host machine:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run --rm -it -v /PATH/TO/YOUR/DATA:/LSDTopoTools lsdtopotools/lsdtt_pcl_docker</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Once you run this, you will need to run the script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"># Start_LSDTT.sh</code></pre>
</div>
</div>
</li>
<li>
<p>When you are finished with your docker session type <code>ctrl+d</code>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_should_i_use_docker_or_vagrant">2.1. Should I use Docker or Vagrant?</h3>
<div class="paragraph">
<p><strong>Short answer</strong>: If you have MacOS, Linux or Windows 10 Enterprise, use Docker. Otherwise use Vagrant.</p>
</div>
<div class="paragraph">
<p><strong>Long answer</strong>: There are <a href="https://deliciousbrains.com/vagrant-docker-wordpress-development/">many</a>, <a href="https://www.vagrantup.com/intro/vs/docker.html">many</a>, <a href="https://stackoverflow.com/questions/16647069/should-i-use-vagrant-or-docker-for-creating-an-isolated-environment">many</a> <a href="https://www.devteam.space/blog/docker-vs-vagrant-which-is-better-for-development/">articles</a> comparing vagrant to docker.
The docker setup is probably a bit simpler than the vagrant setup but (<em>and this is a big but</em>) it won&#8217;t work on a Windows machine unless you have Windows 10 Enterprise. It does work on any recent version of Linux and MacOS. If you have MacOS, native Linux or Windows 10 Enterprise you should consider using Docker since it involves fewer steps than our VirtualBox+Vagrant setup.</p>
</div>
</div>
<div class="sect2">
<h3 id="_installing_docker">2.2. Installing Docker</h3>
<div class="paragraph">
<p><a href="https://www.docker.com/">Docker</a> is software for creating and managing <a href="https://en.wikipedia.org/wiki/Operating-system-level_virtualization">containers</a>. These containers are not complete operating systems, like ones created using <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> and <a href="https://www.vagrantup.com/">Vagrant</a>, so the boot time is quicker (usually almost straight away). Docker is perhaps simpler to use but does not work on every operating system.</p>
</div>
<div class="paragraph">
<p>To set up <strong>LSDTopoTools</strong> using Docker:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download and install <a href="https://docs.docker.com/install/">Docker Community Edition</a>. Instructions on different operating systems are in the <a href="https://docs.docker.com/install/">Docker documentation</a>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In Windows follow the instructions in the <a href="https://docs.docker.com/docker-for-windows/install/">Docker documentation</a>.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Firstly, this only works on Windows 10. And you need control of your computer, and you need to know what you are doing. If you have competent IT, ask them to do it. However, this will become <strong>MUCH EASIER</strong> in a few months when Windows releases its linux subsystem 2, which should allow native docker usage. See this <a href="https://devblogs.microsoft.com/commandline/announcing-wsl-2/">blog post from Microsoft</a>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>On MacOS we recommend installing docker using brew: <code>brew cask install docker</code></p>
</li>
<li>
<p>In Ubunutu you can use <code>$ sudo apt-get install docker-ce docker-ce-cli containerd.io</code></p>
</li>
<li>
<p>In Debian use <code>$ sudo apt-get install docker-ce docker-ce-cli containerd.io</code></p>
</li>
<li>
<p>See the docker website for <a href="https://docs.docker.com/install/">instructions in your flavour of Linux</a></p>
</li>
</ol>
</div>
</li>
<li>
<p>We will henceforth assume that you actually have a functioning version of Docker on your host machine. If you want more details about how to use docker, or getting it set up (particularly in Windows, in Linux and MacOS this is more straightforward), see our section on <a href="#_some_notes_on_docker">docker notes</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_the_four_lsdtopotools_images">2.3. The four LSDTopoTools images</h3>
<div class="paragraph">
<p><strong>LSDTopoTools</strong> has <a href="https://hub.docker.com/u/lsdtopotools/">four different containers</a>. If you are an <strong>LSDTopoToools</strong> developer you will probably use all four. Most users will only use two of them. The four containers are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>lsdtt-alpine</code>: This is the stripped-down, lightweight <strong>LSDTopoTools</strong> container. It uses a linux distrubution called the <a href="https://alpinelinux.org/">alpine linux</a> distribution. For many users, this is the only container you will need. It is an 88 Mb download and when built, it is a bit under 300 Mb.</p>
</li>
<li>
<p><code>lsdtt-pcl</code>: A few of our routines (notably the terrace extraction routines and any routines using swath profiling) require something called the <a href="https://en.wikipedia.org/wiki/Point_Cloud_Library">point cloud library (PCL)</a>. This library is <strong>ENORMOUS</strong> and a massive pain to install. It does everything the <code>lsdtt-alpine</code> container does, and more. It is big: the download is 644 Mb and built it is over 2 Gb. However, if you need this one you can use it instead of the <code>lsdtt-alpine</code> container.</p>
</li>
<li>
<p><code>lsdtt-viz</code>: This container installs all the python routines you need if you want to use our visualisation tools. Our tools require multiple python packages, meaning that this container is also quite large. If you use a GIS to look at our data, you won&#8217;t need this. However we do all our visualisation in python and have written lots of automation scripts, so if you think you will used <strong>LSDTopoTools</strong> routinely you might want to grab this dockerfile.</p>
</li>
<li>
<p><code>lsdtt-docs</code>: Our documentation is all written in asciidoc format, and processed with the extremely awesome <a href="https://asciidoctor.org/">asciidoctor</a>. It runs in the Ruby programming language, and requires some stuff to be installed. We have a container for building the documentation so you don&#8217;t need to worry about installing the correct stuff. It is very unlikely you will need this unless you are an <strong>LSDTopoTools</strong> developer.</p>
</li>
</ol>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Which container do I use?</div>
<div class="ulist">
<ul>
<li>
<p>Pick <strong>either</strong> <code>lsdtt-alpine</code> or <code>lsdtt-pcl</code> for the main programs. The former is a small container but can&#8217;t do the terrace algorithms. If you anticipate extracting terraces or floodpains use the latter. It is much bigger: <code>lsdtt-alpine</code> is an 88 Mb download and ~240Mb unpacked. <code>lsdtt-pcl</code> is a 664 Mb download and ~2 Gb unpacked.</p>
</li>
<li>
<p><code>lsdtt-viz</code> is for our python plotting routines. If you just intend to use a GIS to look at <strong>LSDTopoTools</strong>, you don&#8217;t need this. But if you want to reproduce the figures we have in our papers you will need this container. <strong>LSDMappingTools</strong> needs a lot of python packages so the container is large, I&#8217;m afraid.</p>
</li>
<li>
<p><code>lsdtt-docs</code>: contains the software needed to compile our documentation. The documentation is available on a website (you are reading it) so you only need this container if you are actually going to be writing <strong>LSDTopoTools</strong> documentation.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">How do I get the containers</div>
<div class="paragraph">
<p><strong>There are two options for getting the containers!</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Option 1: Download the images from <a href="https://hub.docker.com/">Docker hub</a>: .</p>
</li>
<li>
<p>Option 2: Build the containers from the raw dockerfiles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Option 1 is better. Option 2 is really only for <strong>LSDTopoTools</strong> developers. We went to the trouble of building hte containers so you don&#8217;t have to.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_before_you_do_anything_else_set_up_a_directory_to_share_with_docker_containers">2.4. Before you do anything else: Set up a directory to share with docker containers.</h3>
<div class="paragraph">
<p>When you run <strong>LSDTopoTools</strong>, or our visualisation routines, you will want to see the resulting files. Docker containers have self contained filesystems that cannot be read on your host operating system unless you tell docker to "share" the directories. These are called "volumes" in docker speak.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, make a directory in your host operating system where you will put all the files associated with <strong>LSDTopoTools</strong>. I put mine in <code>C:\LSDTopoTools\</code></p>
</li>
<li>
<p>To share a directory in docker you use the <code>-v</code> flag.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Following the <code>-v</code> flag you need to tell it which directories to share.</p>
</li>
<li>
<p>The format is: <code>/Host/directory:/Container/directory</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>When you run docker (see below) you will need to ensure that the host directory name is the same as the directory you just created for <strong>LSDTopoTools</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_first_option_pull_the_docker_images">2.5. First option: pull the docker images</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Okay, this should be fairly easy.</p>
</li>
<li>
<p>If you want to run the full docker installation from the get go, simply run:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run --rm -it -v C:/LSDTopoTools:/LSDTopoTools lsdtopotools/lsdtt_pcl_docker</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will pull the repo and run it at the same time.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This container is 663 Mb so if you just want to do some initial testing use the lightweight alpine version!
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If you want the lightweight version (but it can&#8217;t do floodplains and terraces) use:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run --rm -it -v C:/LSDTopoTools:/LSDTopoTools lsdtopotools/lsdtt_alpine_docker</code></pre>
</div>
</div>
</li>
<li>
<p>Either one of these commands will result in your command line terminating in the <code>#</code> symbol. This indicates that you are insida a docker container.</p>
</li>
<li>
<p>Once you are in one of the two docker containers, run the install script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"># Start_LSDTT.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>This script grabs the latest version of the code and builds the programs if you don&#8217;t have one that is up to date. It also ensure that the <strong>LSDTopoTools</strong> programs are in your path.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You will need to run <code>Start_LSDTT.sh</code> every time you start a new Docker session.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If you want to follow our examples later in this documentation, you should also grab the example data:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"># Get_LSDTT_example_data.sh</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You only need to perform this step the first time you start the <strong>LSDTopoTools</strong> container.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>You can now navigate to your data and start using <strong>LSDTopoTools</strong>. See <a href="LSDTT_basic_usage.html">our section on first analyses in <strong>LSDTopoTools</strong></a>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you ran <code>Get_LSDTT_example_data.sh</code> you will now have a data directory <code>/LSDTopoTools/data</code>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_second_option_build_the_docker_containers">2.6. Second option: build the docker containers</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Unless you are a docker purist, please ignore this section and use <a href="#_first_option_pull_the_docker_images">option 1</a> instead.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a folder where you are going to put files associated with docker. In the examples I will assume these are in <code>C:\LSDTopoTools\</code> (this is a windows path, since the majority of organisations use the Windows operating system).</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you have <code>git</code> on your computer, you can clone our dockerfiles into this directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/LSDtopotools/lsdtt_alpine_docker.git
$ git clone https://github.com/LSDtopotools/lsdtt_pcl_docker.git</code></pre>
</div>
</div>
</li>
<li>
<p>If you don&#8217;t have <code>git</code>, download and unzip the contents of the repository.</p>
</li>
</ol>
</div>
</li>
<li>
<p>If you are only running <strong>LSDTopoTools</strong> for routine analysis and looking at the results in GIS software, you will only need one docker container.</p>
</li>
<li>
<p>We are only going to work with the <code>lsdtt-alpine</code> container. But the steps are basically the same for all the other containers.</p>
</li>
<li>
<p>Start a terminal (MacOS or Linux) or powershell (Windows) with docker enabled.</p>
</li>
<li>
<p>Go into the directory inside you docker directory (in my case <code>C:\Docker\LSDTopoTools\</code>) and go into the <code>lsdtt_alpine</code> directory. In windows, if your directory is called the same thing as my directory, you can get there with:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">PS&gt; cd C:\Docker\LSDTopoTools\lsdtt_alpine_docker</code></pre>
</div>
</div>
</li>
<li>
<p>Build the docker container:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">PS&gt; docker build -t lsdtt-alpine .</code></pre>
</div>
</div>
</li>
<li>
<p>The <code>-t</code> flag in docker stands for "tag". It is the name of the container. You could call it anything you want but all documentation henceforth assumes you have called it <code>lsdtt-alpine</code>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you are building a different container, use a different tag, e.g., <code>lsdtt-pcl</code> for the <code>lsdtt-pcl</code> container.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Now you need to run this container:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run -it -v C:/LSDTopoTools:/LSDTopoTools lsdtt_alpine_docker</code></pre>
</div>
</div>
</li>
<li>
<p>After that, run the install script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"># Start_LSDTT.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>This script grabs the latest version of the code and builds the programs if you don&#8217;t have one that is up to date. It also ensure that the <strong>LSDTopoTools</strong> programs are in your path.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You will need to run <code>Start_LSDTT.sh</code> every time you start a new Docker session.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If you want to follow our examples later in this documentation, you should also grab the example data:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"># Get_LSDTT_example_data.sh</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You only need to perform this step the first time you start the <strong>LSDTopoTools</strong> container.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>You can now navigate to your data and start using <strong>LSDTopoTools</strong>. See <a href="LSDTT_basic_usage.html">our section on first analyses in <strong>LSDTopoTools</strong></a>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you ran <code>Get_LSDTT_example_data.sh</code> you will now have a data directory <code>/LSDTopoTools/data</code>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_some_notes_on_docker">2.7. Some notes on Docker</h3>
<div class="paragraph">
<p>You might want to read the <a href="https://docs.docker.com/">docker documentation</a>, but docker documentation is similar to documentation for the <a href="https://www.youtube.com/watch?v=rLDgQg6bq7o">turbo encabulator</a>. Below are some very simple notes to get you started.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Docker quick reference</div>
<div class="paragraph">
<p>Here are some shortcuts if you just need a reminder of how docker works.</p>
</div>
<div class="paragraph">
<p>List all containers</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker ps -a</code></pre>
</div>
</div>
<div class="paragraph">
<p>List containsers with size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker ps -as</code></pre>
</div>
</div>
<div class="paragraph">
<p>Remove all unused conainers</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker system prune</code></pre>
</div>
</div>
<div class="paragraph">
<p>Complete cleanup: stop everything, remove containers, then remove images.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker stop $(docker ps -aq)
$ docker rm $(docker ps -aq)
$ docker rmi $(docker images -q)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_docker_on_linux">2.7.1. Docker on Linux</h4>
<div class="paragraph">
<p>After you install docker on Linux, you will need to add users to the docker permissions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo usermod -a -G docker $USER</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have done this you will need to log out and log back in again.</p>
</div>
</div>
<div class="sect3">
<h4 id="_docker_for_windows">2.7.2. Docker for Windows</h4>
<div class="paragraph">
<p>I have not made any scientific study of this but most <strong>LSDTopoTools</strong> users are on Windows operating systems.</p>
</div>
<div class="paragraph">
<p>Firstly, you need to have <strong>Windows 10 Enterprise</strong>. It will not work otherwise. If you don&#8217;t have Windows 10 Enterprise but are on Windows you probably should use the Vagrant instructions. If you do have Windows 10 enterprise then you can download and install Docker for Windows CE. After you install this you will need to restart your computer not once but twice: once after intall and a second time to activate the hyper-V feature, which allows you to have 64 bit guest operating systems.</p>
</div>
<div class="paragraph">
<p>Second, if you have that and have it installed, you also need to add yourself to the <code>docker-users</code> group. To do that, do this (instructions from here: <a href="https://github.com/docker/for-win/issues/868" class="bare">https://github.com/docker/for-win/issues/868</a>):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Logon to Windows as Administrator</p>
</li>
<li>
<p>Go to Windows Administrator Tools</p>
</li>
<li>
<p>Look for Windows Computer Management and click on it.</p>
</li>
<li>
<p>Or you can skip steps 1, right mouse clicking Computer Management, go to more, and select run as administrator and provide Administrator password.</p>
</li>
<li>
<p>Double click docker-users group and add your account as member.</p>
</li>
<li>
<p>Also add your account to Hyper-V Administrator. This was added when you installed docker for Windows.</p>
</li>
<li>
<p>Log off from Windows and log back on.</p>
</li>
<li>
<p>Click on Windows icon on bottom left and start Docker for Windows. This will start docker windows service.</p>
</li>
<li>
<p>Start Windows Powershell and type docker --version. It will show Docker version 17.09.1-ce, build 19e2cf6. This is the latest version.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_building_a_base_image">2.7.3. Building a base image</h4>
<div class="paragraph">
<p>By the time these notes go online, there should be a functioning docker image that you can download from the docker hub.
The instructions will be clear and users can just start running <strong>LSDTopoTools</strong> from within docker.
These notes exists as something of a history or cheat sheet of how we made the base image.</p>
</div>
<div class="paragraph">
<p>Before we do anything, you should look at some notes about running a functioning image of ubuntu:
<a href="http://phusion.github.io/baseimage-docker/" class="bare">http://phusion.github.io/baseimage-docker/</a></p>
</div>
<div class="paragraph">
<p>I have no idea if that stuff is important!
But we will try to test images that both include and don&#8217;t incude a fully formed startup environment.</p>
</div>
<div class="paragraph">
<p>The other big issue with docker is the volume syncing. This is more difficult to understand syncing in vagrant.</p>
</div>
<div class="sect4">
<h5 id="_a_simple_docker_image">A simple docker image</h5>
<div class="paragraph">
<p>So basically for <strong>LSDTopoTools</strong> functionality we might want a few different base images:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An image just for the c++ code.</p>
</li>
<li>
<p>An image just for the python scripts.</p>
</li>
<li>
<p>An image just for building documentation.</p>
</li>
<li>
<p>An image with everything installed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The reason why we might separate the first three images is because the python image will be <strong>HUGE</strong> whereas the <strong>LSDTopoTools</strong> source code is small.
So people might want to be offered a slimm version.</p>
</div>
<div class="paragraph">
<p>Lets start with a very simple python image.
The docker documentation for getting you started up is not so useful because they are written to get you running an app in the docker box. For our purposes we want:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To log into to the docker container via ssh or access it as though you have a little linux box running</p>
</li>
<li>
<p>To be able to access you file system (we don&#8217;t want to be having to ftp files in an out of the container each time or worse yet losing all our work when the docker session ends).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For python, we could go with a full python build but that results in very large containers (over a GB).
We will <a href="https://blog.realkinetic.com/building-minimal-docker-containers-for-python-applications-37d0272c52f3">follow advice for a minimal python installation</a>. For this we will use the <a href="https://hub.docker.com/_/alpine/">Alpine base box</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, create a directory that will contain the files you need. I&#8217;ll call it <code>python_test</code>.</p>
</li>
<li>
<p>Go into this directory. You will keep something called a <code>dockerfile</code> in this directory.
It has instructions for what stuff is included in the container.
We will start with an incredibly simple one. Create the follwoing textfile, called <code>dockerfile</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-dockerfile" data-lang="dockerfile">FROM python:3.6-alpine

COPY . /app
WORKDIR /app</code></pre>
</div>
</div>
</li>
<li>
<p>Before we do anything we need to <code>build</code> the container. You build it with some name, like:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker build -t chumbucket .</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this command, the <code>-t</code> tells docker to tag the container, the <code>chumbucket</code> gives the container its tag, and the <code>.</code> means that you want to call the <code>Dockerfile</code> from this directory.</p>
</div>
</li>
<li>
<p>This downloads some stuff and then hopefully tells you the container is sucessfully built. You can look at it with <code>docker image ls</code>.</p>
</li>
<li>
<p>You need to actually run the image if you want to do anything with it:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run -it chumbucket sh</code></pre>
</div>
</div>
</li>
<li>
<p>The <code>-it</code> means <code>interactive</code> and <code>tag</code> and you give it the tag. You then tell it to run the shell (<code>sh</code>). To get out of the shell simply type <code>ctrl-d</code>.</p>
</li>
<li>
<p>This gets you into a python container, and in addition it has a (very old version of) pip installed. It breaks if you try to install even simple things like pandas. This makes it totally unusable so we are going to have to add some stuff to the docker file. Unfortunately the alpine distro has all sorts of fundamental problems, for example you can&#8217;t install scipy.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_a_slightly_more_complicated_python_image">A slightly more complicated python image</h5>
<div class="paragraph">
<p>Okay, that container only has a very simple version of python on it. You can then install <a href="https://pypi.org/project/pip/">pip</a> and try to get some packages working, but this is not always straightforward.
Your friendly LSDTopoTools developers prefer the <a href="https://conda.io/miniconda.html">miniconda</a> environment, so we are going to build a container on top of the <a href="https://hub.docker.com/r/conda/miniconda3/">miniconda3 image</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The dockerfile to start looks like this:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-dockerfile" data-lang="dockerfile">FROM conda/miniconda3

COPY . /app
WORKDIR /app</code></pre>
</div>
</div>
</li>
<li>
<p>Again, we need to build this container in order to use it:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker build -t chumbucket2 .</code></pre>
</div>
</div>
</li>
<li>
<p>We can see what images are available with the call</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker images -a</code></pre>
</div>
</div>
</li>
<li>
<p>You will notice the conda image is 228 MB vs the 78.7 MB: the conda version has more bells and whistles involved in getting miniconda to work.
But the end result is that you can install things using conda. Let&#8217;s update the image with a conda install. Here is the dockerfile:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-dockerfile" data-lang="dockerfile"># Use the miniconda distribution.
FROM conda/miniconda3

# Add the app directory and set app to the working directory
COPY . /app
WORKDIR /app

# Now add some conda packages
RUN conda install -y numpy</code></pre>
</div>
</div>
</li>
<li>
<p>And we can build this once more (with the same build call so we don&#8217;t create a totally new container):</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker build -t chumbucket2 .</code></pre>
</div>
</div>
</li>
<li>
<p>Now we can open this container in the interactive mode:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run -it chumbucket2 sh</code></pre>
</div>
</div>
</li>
<li>
<p>If you run python inside this container and then <code>import numpy as np</code> you can see that it has been installed.</p>
</li>
<li>
<p>From here you should be able to see that we can install all sorts of stuff from the dockerfile using the <code>RUN conda install</code> command.</p>
<div class="sidebarblock">
<div class="content">
<div class="title">Some Gotchas in simple containers</div>
<div class="paragraph">
<p>So far it seems like smooth sailing?
Well there are a few gotchas.</p>
</div>
<div class="paragraph">
<p>Firstly, in the command <code>docker run -it chumbucket2 sh</code> you can see we are using <code>sh</code>: this is in most of the "getting started" docker documentation.
However, using <code>sh</code> really sucks since it does not feature any of the Linux command line shortcuts you are used to. Instead, you should us <code>bash</code>.</p>
</div>
<div class="paragraph">
<p>Secondly even through you have copied the ./app directory into the container, it does not communicate with your storage.
So if you update anything in that directory on your home computer, you need to completely rebuild the container!</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_mounting_volumes_in_docker">Mounting volumes in Docker</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What we really want is exchange of files between your host operating system and your docker container.</p>
</li>
<li>
<p>You might start by reading about <a href="https://docs.docker.com/storage/volumes/">docker volumes</a>. But like most Docker documenattion that is a bit impenetrable so you might move on to some plain english summaries: <a href="https://rominirani.com/docker-tutorial-series-part-7-data-volumes-93073a1b5b72">summary 1</a> and <a href="https://rominirani.com/docker-on-windows-mounting-host-directories-d96f3f056a2c">summary 2</a>.</p>
</li>
<li>
<p>The upshot of this is that you don&#8217;t really want a docker volume container, but rather you want to link your docker container to your host file system.</p>
</li>
<li>
<p>On MacOS and Linux this works automatically, but on Windows 10 you need to activate it. Right click on the docker icon in the system tray, go to <strong>Settings</strong> and then to <strong>Shared Drives</strong> and activate drive sharing.</p>
</li>
<li>
<p>Once you have done this you can activate the drive sharing with the <code>-v</code> flag in a docker run command (see below).</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_an_lsdmappingtools_container">An LSDMappingTools container</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Okay, lets make a container for <a href="https://github.com/LSDtopotools/LSDMappingTools">LSDMappingTools</a>.</p>
</li>
<li>
<p>The dockerfile looks like this:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-dockerfile" data-lang="dockerfile"># This is the LSDMappingTools dockerfile. It is currently set up to install the
# latest versions of the various required python packages

# To run this you will need to connect it to your host directories if you want to be able to retrieve
# your figures and get data in and out of the container.
# On windows you need to allow docker access to the host drive
# Right click on the docker icon in your system tray
# Then select "settings"
# Then "Shared Drives" and activate the drive you want
# In MacOS and Linux this is automatically set up.
# After you build the container
# e.g.
# docker build -t lsdmt .
#
# Then you need to run it with the volume attached
# e.g.
# docker run C:/Docker_containers/python_containers/LSDMappingTools:/LSDTopoTools/LSDMappingTools lsdmt bash

# Use the miniconda distribution.
FROM conda/miniconda3

LABEL MAINTAINERS = "Simon Marius Mudd &lt;simon.m.mudd@ed.ac.uk&gt;, Fiona J Clubb &lt;clubb@uni-potsdam.de&gt;"

# Set LSDTopoTools to be the working directory
# This will create a directory in the root of the container.
# When you start the container you will be placed in this directory.
WORKDIR /LSDTopoTools

# Now add some conda packages
RUN conda config --add channels conda-forge
RUN conda install -y numpy matplotlib pandas scipy
RUN conda install -y gdal shapely fiona rasterio pyproj
RUN conda install -c conda-forge descartes</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This takes a very long time to set up!
</td>
</tr>
</table>
</div>
</li>
<li>
<p>This doesn&#8217;t include the actual python scripts!
You need to copy them into a directory where docker can access them (on my machine this means withing the C: drive) and then add them using a volume command:</p>
</li>
<li>
<p>First build the container:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker build -t lsdmt .</code></pre>
</div>
</div>
</li>
<li>
<p>Then run the container in interactive mode with the volume attached:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run -it -v C:/Docker_containers/python_containers/python_test1/LSDMappingTools:/LSDTopoTools/LSDMappingTools lsdmt bash</code></pre>
</div>
</div>
</li>
<li>
<p>Note that this container has <strong>many</strong> python packages so it is rather larege: nearly 4GB (to see, type <code>docker ps -as</code>).</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_an_lsd_documentation_container">An LSD Documentation container</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We use <a href="https://asciidoctor.org/">asciidoctor</a> for our documentation.
I am pleased to say that there is a dockerfile for asciidoctor.</p>
</li>
<li>
<p>Simply copy the <a href="https://github.com/asciidoctor/docker-asciidoctor">asciidoctor dockerfile</a> and add two lines:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-dockerfile" data-lang="dockerfile">    awesome_print \
    bundler \</code></pre>
</div>
</div>
<div class="paragraph">
<p>these come after the line <code>tile \</code> on line 55.</p>
</div>
</li>
<li>
<p>Now build the container</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker built -t asc .</code></pre>
</div>
</div>
</li>
<li>
<p>Then open that container up linking to the proper directory. I use:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ docker run -it -v C:/Docker_containers/ruby_containers/LSDTT_documentation/master:/documents/LSDTT_documents asc bash</code></pre>
</div>
</div>
</li>
<li>
<p>You can find this dockerfile within the <a href="https://github.com/LSDtopotools/LSDTT_documentation/blob/master/dockerfile">LSDTT Documentation repository</a>.</p>
</li>
<li>
<p>When that is running, go into the documentation directory and run our python script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"># cd LSDTT_documentation
# python compile_LSDTTDocs.py</code></pre>
</div>
</div>
</li>
<li>
<p>The resulting website will be in the directory <code>html_build</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_the_lsdtt_core_code_container">The LSDTT core code container</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We actually have two containers for this since a subset of our code uses PCL which is massive.</p>
</li>
<li>
<p>The simpler version, used in most of our code, is the following:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-dockerfile" data-lang="dockerfile"># Pull base image.
FROM ubuntu:18.10

RUN apt-get update
RUN apt-get install -y build-essential git gdal-bin python-gdal libfftw3-dev cmake

WORKDIR /LSDTopoTools</code></pre>
</div>
</div>
</li>
<li>
<p>We can also use an Alpine linux version, which is <strong>much</strong> smaller:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-dockerfile" data-lang="dockerfile">FROM alpine
MAINTAINER Simon Mudd (simon.m.mudd@ed.ac.uk) and Fiona Clubb (clubb@uni-potsdam.de)

# install essential packages
RUN apk upgrade -U &amp;&amp; \
    apk update &amp;&amp; \
    apk add --virtual build-dependencies build-base gcc wget git &amp;&amp; \
    apk add --repository http://dl-cdn.alpinelinux.org/alpine/edge/main libressl2.7-libcrypto &amp;&amp; \
    apk add gdal --update-cache --repository http://dl-cdn.alpinelinux.org/alpine/edge/testing &amp;&amp; \
    apk add fftw-dev cmake &amp;&amp; \
    rm -rf /var/cache/apk/* &amp;&amp; \
    rm -rf /tmp/*

# update to avoid weird apk error
RUN apk update

# clone LSDTT repo
WORKDIR /LSDTopoTools/</code></pre>
</div>
</div>
</li>
<li>
<p>After we build this container we can run it with:</p>
<div class="listingblock">
<div class="content">
<pre>$ docker run -it -v C:/Docker/cpp_containers/LSDTopoTools:/LSDTopoTools/ lsdtt-alpine</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_the_lsdtt_pcl_container">The LSDTT PCL container</h5>
<div class="paragraph">
<p>Some of our routines need the [Point Cloud Library]. This is a <strong>HUGE</strong> library that needs millions of additional bits of software.
The resulting container is enormous, and takes an age to build so you should only use this if you need the PCL versions of <strong>LSDTopoTools</strong>.</p>
</div>
<div class="paragraph">
<p>One quite annoying thing is that for anything later than Ubuntu 14 you need to build PCL from source. This takes a <strong>long</strong> time.
The whole installation process takes an age. Sorry.</p>
</div>
<div class="paragraph">
<p>This is the dockerfile:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-docker" data-lang="docker"># Pull base image.
FROM ubuntu:16.04

# These are the basic build tools
RUN apt-get update
RUN apt-get install -y build-essential git gdal-bin python-gdal libfftw3-dev cmake

# And this is the point cloud library

# install pcl
RUN apt-get install -y libpcl-dev

# We need this as well
RUN apt-get install -y libproj-dev

WORKDIR /LSDTopoTools</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_natively_on_a_linux_system">3. Installing natively on a Linux system</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>ONLY DO THIS IF YOU ARE A DEVELOPER!! If you just want to use the code follow the basic instructions.</strong></p>
</div>
<div class="paragraph">
<p>The compute power of <strong>LSDTopoTools</strong> is all found within the LSDTopoTools command line tools, which you can install using <a href="https://docs.conda.io/en/latest/miniconda.html#">miniconda</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ conda -c conda-forge lsdtopotools</code></pre>
</div>
</div>
<div class="paragraph">
<p>The below instructions are for developers who work with the source code. Unless your name is Simon, Fiona, Stuart, Boris, David, Marina, or Martin and are now or formerly associated with the University of Edinburgh&#8217;s Land Surface Dynamics group it is highly unlikely you will need any of this.</p>
</div>
<div class="sect2">
<h3 id="_get_the_associated_software_you_need">3.1. Get the associated software you need</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start a terminal session.</p>
</li>
<li>
<p>Install some essential softare (we will use Ubuntu installation, you need to modify these if you are on another version of Linux). This assumes you have the GNU c++ tools:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt-get install -y git
$ sudo apt-get install -y gdal-bin
$ sudo apt-get install -y python-gdal
$ sudo apt-get install -y libfftw3-dev
$ sudo apt-get install -y cmake</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_option_1_use_the_script">3.2. Option 1: Use the script</h3>
<div class="paragraph">
<p>We made a script for Linux users. It does the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Makes an LSDTopoTools directory</p>
</li>
<li>
<p>Clones and compiles the code</p>
</li>
<li>
<p>Downloads the example data</p>
</li>
<li>
<p>Spawns a bash shell that knows where the command line tools are.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To use it:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Grab the script</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ wget https://raw.githubusercontent.com/LSDtopotools/LSDTT_Edinburgh_scripts/master/LSDTT_native_linux_setup.sh</code></pre>
</div>
</div>
</li>
<li>
<p>Run the script</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sh LSDTT_native_linux_setup.sh</code></pre>
</div>
</div>
</li>
<li>
<p>You will need to tell this script where you want to install LSDTopoTools.</p>
</li>
<li>
<p>The first time you run this it will take a while to compile and get all the files. But you can run it thereafter for any terminal session and it will add the actually LSDTopoTools programs to your <code>$PATH</code> for that session.</p>
</li>
<li>
<p>If you don&#8217;t want to bother with the script each time, we suggest adding the location of the <strong>LSDTopoTools</strong> prgrams to your <code>$PATH</code> in your <code>.bashrc</code> file. If you don&#8217;t know what that previous sentence means, just use the script.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_option_2_do_it_by_hand">3.3. Option 2: Do it by hand</h3>
<div class="sect3">
<h4 id="_get_the_lsdtopotools2_code_and_install">3.3.1. Get the LSDTopoTools2 code and install</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You probably should make a directory where you keep everything associated with <strong>LSDTopoTools</strong>. A suggested name for this directory is <strong>LSDTopoTools</strong>: it says what it does on the tin. Go into that directory once you have created it.</p>
</li>
<li>
<p>Next, clone the <a href="https://github.com/LSDtopotools/LSDTopoTools2"><strong>LSDTopoTools2</strong> repository</a> here:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/LSDtopotools/LSDTopoTools2.git</code></pre>
</div>
</div>
</li>
<li>
<p>Go into that new directory:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd LSDTopoTools2</code></pre>
</div>
</div>
</li>
<li>
<p>Run the setup tool</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sh lsdtt2_setup.sh</code></pre>
</div>
</div>
</li>
<li>
<p>You can now navigate to your data and start using <strong>LSDTopoTools</strong>. See <a href="LSDTT_basic_usage.html">our section on first analyses in <strong>LSDTopoTools</strong></a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_starting_an_lsdtopotools2_session_after_your_first_installation">3.3.2. Starting an LSDTopoTools2 session after your first installation</h4>
<div class="ulist">
<ul>
<li>
<p>Whenever you return to run an LSDTopoTools2 session, you will need to tell the computer where your program files are. You cave two options:</p>
<div class="ulist">
<ul>
<li>
<p>Run <code>sh lsdtt2_setup.sh</code> in the LSDTopoTools2 directory. This gets the latest version of the software, recompiles, and points your session to the program files.</p>
</li>
<li>
<p>Run <code>sh lsdtt2_terminal.sh</code> in the LSDTopoTools2 directory. This just points your session to the program files.</p>
</li>
</ul>
</div>
</li>
<li>
<p>You must do one of those two things otherwise your computer will not know where the program files are.</p>
</li>
<li>
<p>As an alternative, you can go into yor <code>.bashrc</code> file and add the <code>/path/to/LSDTopoTools2/bin</code> directory to your <code>$PATH</code>. You will need to change the full path to reflect your own directory system. If you don&#8217;t know what a <code>.bashrc</code> file is you are probably better off running the <code>lsdtt2_terminal.sh</code> script.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_getting_the_example_data">3.3.3. Getting the example data</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a data directory. The documentation assumes this directory structure: <br>
| Your home directory (native linx) or the root directory (docker) <br>
--|LSDTopoTools <br>
----| LSDTopoTools2 <br>
------| subdirectories with source code and programs<br>
----| data <br>
------| subdirectories with different projects<br>
----| Other LSDTopoTools directories (e.g., LSDMappingTools, LSDTT_documentation)</p>
</li>
<li>
<p>Go into the data directory and grab the example data from github, then unzip and clean the zip file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd data
$ wget https://github.com/LSDtopotools/ExampleTopoDatasets/archive/master.zip
$ unzip master.zip
$ mv ./ExampleTopoDatasets-master ./ExampleTopoDatasets
$ rm master.zip</code></pre>
</div>
</div>
</li>
<li>
<p>You should now have the example data for further examples.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_installing_lsdtopotools_using_windows_subsystem_for_linux">3.4. Installing LSDTopoTools using Windows Subsystem for Linux</h3>
<div class="paragraph">
<p>Some users have had difficulties getting Docker to install on Windows as it can require changing a setting in the BIOS. If this is the case, you can try to install the code natively using <a href="https://docs.microsoft.com/en-us/windows/wsl/faq">Windows Subsystem for Linux</a>.  This is a piece of software from Microsoft that allows you to run a small Linux environment (in our case Ubuntu) from your Windows operating system.  We will download this software from the Microsoft Store, which should be preinstalled on any Windows 10 system.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Firstly, download the Ubuntu app from Microsoft Store. If you can&#8217;t find it, then you can also get it from <a href="https://www.microsoft.com/en-gb/p/ubuntu/9nblggh4msv6?rtc=1&amp;activetab=pivot:overviewtab">this link</a>. You might need to restart your computer as prompted following this step.</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The download here is around ~200 Mb, so make sure you have enough space on your system for this. You don&#8217;t need to register to the store in order to download the app.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Launch the Ubuntu app by clicking on it from the Start menu.  You will then be prompted to create a new user account and password - <strong>you can choose whatever you want for this, but make sure you remember it! The password is important for installing packages in the next steps.</strong></p>
</li>
<li>
<p>The first time you launch, make sure you update and upgrade your standard packages by typing:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt update &amp;&amp; sudo apt upgrade</code></pre>
</div>
</div>
</li>
<li>
<p>Now install the dependencies for LSDTopoTools:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt install -y build-essential git gdal-bin python-gdal libfftw3-dev cmake</code></pre>
</div>
</div>
</li>
<li>
<p>Then make a new directory for the LSDTopoTools code and download it from GitHub:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ mkdir LSDTopoTools &amp;&amp; cd LSDTopoTools
$ git clone https://github.com/LSDtopotools/LSDTopoTools2.git</code></pre>
</div>
</div>
</li>
<li>
<p>This will create a directory called <code>~/LSDTopoTools/LSDTopoTools2</code> in your home. Navigate to this directory and run the start up script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd LSDTopoTools2
$ bash lsdtt2_setup.sh</code></pre>
</div>
</div>
</li>
<li>
<p>This script will set up the code: we then need one more command to add the binary to your local path.  First run:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd bin
$ pwd</code></pre>
</div>
</div>
</li>
<li>
<p>This will print out a directory path. Copy this directory path, let&#8217;s call it <code>/path/to/your/bin</code> for the sake of this example, and run:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ export PATH=/path/to/your/bin:$PATH</code></pre>
</div>
</div>
</li>
<li>
<p>This will link the <code>bin</code> folder to the system path and make the code executable from anywhere in the Linux subsystem.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_accessing_data_from_windows">3.4.1. Accessing data from Windows</h4>
<div class="paragraph">
<p>Once installed in the linux subsystem, <code>Microsoft</code> strongly warns against accessing to Ubuntu file system from <code>windows</code> as it can damaged it quite easily. However the opposite is fairly easy: the easiest way to do that is to store data in your <code>C</code> drive, accessible from the linux subsystem with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /mnt/c/</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_lsdtopotools_at_the_university_of_edinburgh">4. Installing LSDTopoTools at the University of Edinburgh.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These instructions are for students and staff within the <a href="https://www.ed.ac.uk/geosciences">School of GeoSciences</a> at the <a href="https://www.ed.ac.uk/">University of Edinburgh</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Quick Setup for Edinburgh Geoscience users</div>
<div class="paragraph">
<p><strong>If it is the first time you are using LSDTopoTools</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, <a href="#_mapping_your_network_drive">map your network drive</a>. Instructions are below.</p>
</li>
<li>
<p>In the windows search bar, type "powershell" and start a windows powershell.</p>
</li>
<li>
<p>Type <code>ssh <a href="mailto:UUN@ssh.geos.ed.ac.uk">UUN@ssh.geos.ed.ac.uk</a></code>.</p>
</li>
<li>
<p>It will ask you a yes/no question about adding a key. Type <code>yes</code>.</p>
</li>
<li>
<p>Enter your EASE password. and enter your password. UUN is your university user name.</p>
</li>
<li>
<p>This puts you into the university ssh server, which is slow. Move into a better one by typing <code>ssh burn</code>.</p>
</li>
<li>
<p>Download the setup script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ wget https://raw.githubusercontent.com/LSDtopotools/LSDTT_Edinburgh_scripts/master/LSDTT_UEdin_setup.sh</code></pre>
</div>
</div>
</li>
<li>
<p>Now run the script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sh LSDTT_UEdin_setup.sh</code></pre>
</div>
</div>
</li>
<li>
<p>The script will ask you for your Edinburgh university username (UUN) and then if you want to install <strong>LSDTopoTools</strong> in your home directory.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong><em>If you are an undergratudate or taught master&#8217;s student</em></strong>, answer <code>yes</code> to put <strong>LSDTopoTools</strong> in your home directory.</p>
</li>
<li>
<p>For staff and research students, <strong><em>we recommend saying <code>no</code> since this puts the code in your datashare directory</em></strong>, which has more space (I&#8217;m afraid taught students don&#8217;t have access to this resource).</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>If you have already followed the instructions above once</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go into the School of GeoScience servers using instructions above.</p>
</li>
<li>
<p>Run the script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sh LSDTT_UEdin_setup.sh</code></pre>
</div>
</div>
</li>
<li>
<p>You will need to enter your UUN and answer the yes/no question as above, but everything will go very quickly since you&#8217;ve already downloaded everything.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mapping_your_network_drive">4.1. Mapping your network drive</h3>
<div class="paragraph">
<p>You will need access to your data on the network drive to use <strong>LSDTopoTools</strong>. You only need to do this one in any computer lab (and possibly only once ever):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open a file explorer window and under computer select the "University drive":</p>
<div class="imageblock">
<div class="content">
<img src="images/Udrive.jpg" alt="The U drive">
</div>
<div class="title">Figure 1. The university drive</div>
</div>
</li>
<li>
<p>Then go into the Science and Engineering folder ("SCE"):</p>
<div class="imageblock">
<div class="content">
<img src="images/SCE.jpg" alt="SCE">
</div>
<div class="title">Figure 2. The science and engineering folder</div>
</div>
</li>
<li>
<p>Then into the GeoSciences folder ("GEOS"):</p>
<div class="imageblock">
<div class="content">
<img src="images/GEOS.jpg" alt="GEOS">
</div>
<div class="title">Figure 3. The geosciences folder</div>
</div>
</li>
<li>
<p>Then into the Drive Mapping folder ("drive_mapping"):</p>
<div class="imageblock">
<div class="content">
<img src="images/DMAP.jpg" alt="Drive mapping">
</div>
<div class="title">Figure 4. The drive mapping folder</div>
</div>
</li>
<li>
<p>And finally double click the shortcut "Access Netdata":</p>
<div class="imageblock">
<div class="content">
<img src="images/NDATA.jpg" alt="Access netdata">
</div>
<div class="title">Figure 5. The access netdata shortcut</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_getting_on_to_our_servers_with_with_ssh_in_a_powershell_window">4.2. Getting on to our servers with with ssh in a powershell window</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the windows search bar, type "powershell" and start a windows powershell.</p>
<div class="imageblock">
<div class="content">
<img src="images/start_powershell.png" alt="Starting powershell">
</div>
<div class="title">Figure 6. Start powershell</div>
</div>
</li>
<li>
<p>Type <code>ssh <a href="mailto:UUN@ssh.geos.ed.ac.uk">UUN@ssh.geos.ed.ac.uk</a></code>.</p>
<div class="imageblock">
<div class="content">
<img src="images/ssh_into_server.png" alt="ssh onto server. Use your own UUN">
</div>
<div class="title">Figure 7. Go onto a server using the ssh command. You must use your own university username (UUN)!</div>
</div>
</li>
<li>
<p>It will ask you a yes/no question about adding a key. Type <code>yes</code>.</p>
</li>
<li>
<p>Enter your EASE password. and enter your password. UUN is your university user name.</p>
</li>
<li>
<p>This puts you into the university ssh server, which is slow. Move into a better one by typing <code>ssh burn</code>.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You <strong>MUST</strong> move servers since the GeoSciences ssh server is very old and cannot run the software.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/go_onto_burn.png" alt="ssh onto a better server">
</div>
<div class="title">Figure 8. Go onto burn. You could also try <code>achray</code></div>
</div>
<div class="paragraph">
<p>Alternatives to this method are programs called MobaXterm, putty, or secure shell client. But basically in all these you need to connect to the server <code>UUN@ssh.geos.ed.ac.uk</code> and then enter your password.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_downloading_and_running_the_setup_script">4.3. Downloading and running the setup script</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to your home directory</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~</code></pre>
</div>
</div>
</li>
<li>
<p>Get the setup script from the internet</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ wget https://raw.githubusercontent.com/LSDtopotools/LSDTT_Edinburgh_scripts/master/LSDTT_UEdin_setup.sh</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/get_the_startup_script.png" alt="Grab the startup script from the internet">
</div>
<div class="title">Figure 9. Grab the startup script from the internet using <code>wget</code>. Brief note: for downloading large files, <code>wget</code> is <strong>much</strong> faster than downloading files through a browser.</div>
</div>
</li>
<li>
<p>Now run the script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sh LSDTT_UEdin_setup.sh</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/run_the_script.png" alt="Run the startup script">
</div>
<div class="title">Figure 10. Run the script.</div>
</div>
</li>
<li>
<p>Follow the prompts.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Every time you start a new session, you will need to run this setup script. The second time you run it, it will not set up <strong>LSDTopoTools</strong>, but it will check the software for updates and it will also tell your computer where the actual programs are.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_excruciatingly_detailed_information_about_what_the_script_does_only_read_this_if_you_are_an_enthusiast_that_must_know_how_everything_works">4.3.1. Excruciatingly detailed information about what the script does (only read this if you are an enthusiast that must know how everything works)</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This is what the setup script does. <strong>You don&#8217;t need to do this if you have run the script!</strong> It remains here for reference.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For staff and research students, their largest data storage is in their datastore. Undergraduates and taught master&#8217;s stuents don&#8217;t have access to this, unfortunately. If you tell the script you want things in your home directory, the script will skip this.</p>
</li>
<li>
<p>Go into your <strong>T:</strong> drive by entering: <code>cd /exports/csce/datastore/geos/users/UUN</code></p>
</li>
<li>
<p>Imagine having to type this every time you go into the servers. It is very annoying. You can cut that step out by making a symbolic link.</p>
</li>
<li>
<p>In linux you can always navigate to your home directory using:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~</code></pre>
</div>
</div>
</li>
<li>
<p>You make a link using the <code>ln</code> command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ln -s /exports/csce/datastore/geos/users/UUN MyDataStore</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You need to replace <code>UUN</code> above with your university user name.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You don&#8217;t have to call the link <code>MyDataStore</code>, you can call it whatever you like. But try to remember what you called it.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Once you do that, you can navigate into your network drive in Linux with the commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~
$ cd MyDataStore</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_dont_be_messy">Don&#8217;t be messy</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You can organise your directories however you want, but I find it is easier to keep everything contained in a single <strong>LSDTopoTools</strong> directory.</p>
</li>
<li>
<p>Go into your network drive (see above).</p>
</li>
<li>
<p>I suggest making a directory called <code>LSDTopoTools</code> (you can use <code>mkdir LSDTopoTools</code>).</p>
</li>
<li>
<p>If you want to be clever, you can make an additional link to this new directory:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~
$ ln -s /exports/csce/datastore/geos/users/UUN/LSDTopoTools LSDTT_Directory
$ cd LSDTT_Directory</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You need to replace <code>UUN</code> above with your university user name.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If you do that, whenever you want to go into your *LSDTopoTools directory, you just enter this:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~
$ cd LSDTT_Directory</code></pre>
</div>
</div>
</li>
<li>
<p>Do that in order to follow the next steps.</p>
</li>
<li>
<p>Inside this directory you can put the source code, any data or projects, and the python visualisation code. But in the next step we will just get the source code in set up the main <strong>LSDTopoTools</strong> programs.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_cloning_the_lsdtopotools2_repository">Cloning the LSDTopoTools2 repository</h5>
<div class="paragraph">
<p><strong>LSDTopoTools2</strong>, which has the main analysis programs, lives in a <a href="https://github.com/">github</a> repository and you use a program names <a href="https://git-scm.com/">git</a> to get it. Don&#8217;t worry, this is easy.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Type (or copy and paste): <code>git clone <a href="https://github.com/LSDtopotools/LSDTopoTools2.git" class="bare">https://github.com/LSDtopotools/LSDTopoTools2.git</a></code></p>
</li>
<li>
<p>It will download some stuff. Now you need to build the software.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_building_the_software">Building the software</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Type: <code>sh lsdtt2_setup.sh</code></p>
</li>
<li>
<p>Wait a bit until it finishes. It should take a minute or two.</p>
</li>
<li>
<p>You can now navigate to your data and start using <strong>LSDTopoTools</strong>. See <a href="LSDTT_basic_usage.html">our section on first analyses in <strong>LSDTopoTools</strong></a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_starting_an_lsdtopotools2_session_after_your_first_installation_2">Starting an LSDTopoTools2 session after your first installation</h5>
<div class="ulist">
<ul>
<li>
<p>Whenever you return to run an <strong>LSDTopoTools2</strong> session, you will need to tell the computer where your program files are. You have two options:</p>
<div class="ulist">
<ul>
<li>
<p>Run <code>sh lsdtt2_setup.sh</code> in the <strong>LSDTopoTools2</strong> directory. This gets the latest version of the software, recompiles, and points your session to the program files.</p>
</li>
<li>
<p>Run <code>sh lsdtt2_terminal.sh</code> in the <strong>LSDTopoTools2</strong> directory. This just points your session to the program files.</p>
</li>
</ul>
</div>
</li>
<li>
<p>You <strong>must</strong> do one of those two things otherwise your computer will not know where the program files are.</p>
</li>
<li>
<p>As an alternative, you can go into yor <code>.bashrc</code> file and add the <code>/path/to/LSDTopoTools2/bin</code> directory to your <code>$PATH</code>. You will need to change the full path to reflect your own directory system. If you don&#8217;t know what a <code>.bashrc</code> file is you are probably better off running the <code>lsdtt2_terminal.sh</code> script.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_getting_the_example_data_2">Getting the example data</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a data directory. The documentation assumes this directory structure: <br>
| Your home directory (native linx) or the root directory (docker) <br>
--|LSDTopoTools <br>
----| LSDTopoTools2 <br>
------| subdirectories with source code and programs<br>
----| data <br>
------| subdirectories with different projects<br>
----| Other LSDTopoTools directories (e.g., LSDMappingTools, LSDTT_documentation)</p>
</li>
<li>
<p>So, if you don&#8217;t have a data directory, make one. Again, we suggest putting this in your <strong>LSDTopoTools</strong> directory. Go into your LSDTopoTools directory (see <a href="Don&.html#8217;t be messy">instructions above</a>):</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ mkdir data</code></pre>
</div>
</div>
</li>
<li>
<p>Go into the data directory and grab the example data from github, then unzip and clean the zip file:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you are an undergraduate, the script will grab the small samples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd data
$ wget https://github.com/LSDtopotools/SmallExampleTopoDatasets/archive/master.zip
$ unzip master.zip
$ mv ./SmallExampleTopoDatasets-master ./ExampleTopoDatasets
$ rm master.zip</code></pre>
</div>
</div>
</li>
<li>
<p>If you have a datastore directory (e.g., are a PGR student or staff) it will get the large example data (since you have more space):</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd data
$ wget https://github.com/LSDtopotools/ExampleTopoDatasets/archive/master.zip
$ unzip master.zip
$ mv ./ExampleTopoDatasets-master ./ExampleTopoDatasets
$ rm master.zip</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>You should now have the example data that is used in the rest of this documentation.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extra_dependencies_for_swaths_and_point_clouds">5. Extra dependencies for swaths and point clouds</h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="title">Do I need to read this section?</div>
<div class="paragraph">
<p>If you have followed our <a href="#_first_option_pull_the_docker_images">docker installation</a> you don&#8217;t need to read any of this: all the tools mentioned below are included in the <a href="https://hub.docker.com/r/lsdtopotools/lsdtt_pcl_docker/"><strong>LSDTopoTools</strong> PCL container</a>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Some of our tools require the point cloud library. To get this working you need a few different utilities and libraries (take a deep breath):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>cmake</code> utility. This is like <code>make</code> but is required for our tools that examine point clouds,
since it is required by something called the <a href="http://pointclouds.org/">point cloud library</a>.</p>
</li>
<li>
<p><a href="http://pointclouds.org/">pcl</a>: The Point Cloud Library.</p>
</li>
<li>
<p><a href="http://www.liblas.org/">libLAS</a>: a library for working with LAS format data.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Our Vagrant installation installs these automatically. The docker installation (since it is 3rd party) does not. However you can install on an Ubuntu system (and the Docker installation is Ubuntu) using the following instructions.</p>
</div>
<div class="sect2">
<h3 id="_install_the_point_cloud_library">5.1. Install the Point Cloud Library</h3>
<div class="paragraph">
<p>If you are using an older version of ubuntu there is a package. Newer versions of Ubuntu don&#8217;t have it, so you will unfortunately need to install by hand.</p>
</div>
<div class="sect3">
<h4 id="_ubuntu_14_and_12">5.1.1. Ubuntu 14 and 12</h4>
<div class="paragraph">
<p>This is relatively painless (we hope):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo add-apt-repository ppa:v-launchpad-jochen-sprickerhof-de/pcl
$ sudo apt-get update
$ sudo apt-get install libpcl-all</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ubuntu_16_04_lts">5.1.2. Ubuntu 16.04 LTS</h4>
<div class="paragraph">
<p>First, try this. It is possible it will only work on 64 bit systems:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt-get update
$ sudo apt-get install libpcl-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>If that doesn&#8217;t work you need to install from source. I am very sorry about this.</p>
</div>
<div class="paragraph">
<p>To install the <code>pcl</code> library from source you use the following steps:</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This will take at least an hour!! It will also download an insane amount of stuff onto your machine. You must ensure that you follow the steps in the correct order.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Install oracle-java8-jdk:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo add-apt-repository -y ppa:webupd8team/java &amp;&amp; sudo apt update &amp;&amp; sudo apt -y install oracle-java8-installer</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install various dependencies and pre-requisites:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt -y install g++ cmake cmake-gui doxygen mpi-default-dev openmpi-bin openmpi-common libusb-1.0-0-dev libqhull* libusb-dev libgtest-dev
$ sudo apt -y install git-core freeglut3-dev pkg-config build-essential libxmu-dev libxi-dev libphonon-dev libphonon-dev phonon-backend-gstreamer
$ sudo apt -y install phonon-backend-vlc graphviz mono-complete qt-sdk libflann-dev libflann1.8 libboost1.58-all-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install the eigen linear algebra package:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~/Downloads
$ wget http://launchpadlibrarian.net/209530212/libeigen3-dev_3.2.5-4_all.deb
$ sudo dpkg -i libeigen3-dev_3.2.5-4_all.deb
$ sudo apt-mark hold libeigen3-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install VTK (this has some plotting functionality, <strong>this takes AGES.</strong>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ wget http://www.vtk.org/files/release/7.1/VTK-7.1.0.tar.gz
$ tar -xf VTK-7.1.0.tar.gz
$ cd VTK-7.1.0 &amp;&amp; mkdir build &amp;&amp; cd build
$ cmake ..
$ make
$ sudo make install</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now install the Point Cloud Library v1.8:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~/Downloads
$ wget https://github.com/PointCloudLibrary/pcl/archive/pcl-1.8.0.tar.gz
$ tar -xf pcl-1.8.0.tar.gz
$ cd pcl-pcl-1.8.0 &amp;&amp; mkdir build &amp;&amp; cd build
$ cmake ..
$ make
$ sudo make install</code></pre>
</div>
</div>
<div class="paragraph">
<p>Do some clean up:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~/Downloads
$ rm libeigen3-dev_3.2.5-4_all.deb VTK-7.1.0.tar.gz pcl-1.8.0.tar.gz
$ sudo rm -r VTK-7.1.0 pcl-pcl-1.8.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should now have pcl installed on your system! You can do a small test of the installation if you want to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~
$ mkdir pcl-test &amp;&amp; cd pcl-test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a CMakeLists.txt file and save this in the directory <code>pcl-test</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cmake_minimum_required(VERSION 2.8 FATAL_ERROR)
project(pcl-test)
find_package(PCL 1.2 REQUIRED)

include_directories(${PCL_INCLUDE_DIRS})
link_directories(${PCL_LIBRARY_DIRS})
add_definitions(${PCL_DEFINITIONS})

add_executable(pcl-test main.cpp)
target_link_libraries(pcl-test ${PCL_LIBRARIES})

SET(COMPILE_FLAGS "-std=c++11")
add_definitions(${COMPILE_FLAGS})</pre>
</div>
</div>
<div class="paragraph">
<p>Create a file and call it <code>main.cpp</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#include &lt;iostream&gt;

int main() {
    std::cout &lt;&lt; "hello, world!" &lt;&lt; std::endl;
    return (0);
}</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the cpp file and then test it :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ mkdir build &amp;&amp; cd build
$ cmake ..
$ make
$ ./pcl-test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Output should be <code>hello, world!</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_extra_libraries_for_the_floodplain_and_terrace_extraction">5.2. Extra libraries for the floodplain and terrace extraction</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
As of January 2018 liblas does not compile on our vagrant server since liblas3 is not available for Ubuntu 12. We have updated the vagrantfiles to Ubuntu 14 so you should use the new vagrantfiles (this will require downloading a new vagrant box if you were using the old vagrantfile). We don&#8217;t use Ubuntu 16 since it is such an incredible pain to install the point cloud library on it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You might find you need to install a couple of other libraries for the floodplain and terrace drivers to compile properly. If you are using Ubuntu, you can do this using the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt-get update
$ sudo apt-get install libgoetiff-dev
$ sudo apt-get install liblas-dev</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_the_lsdtopotools_python_toolchain">6. Installing the LSDTopoTools python toolchain</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>LSDTopoTools</strong> is written in C++ but also includes a number of automation and visualisation rountines written in python.</p>
</div>
<div class="paragraph">
<p>Because <strong>LSDTopoTools</strong> handles primarily spatial data, a number of python packages for handling spatial data are needed in the <strong>LSDTopoTools</strong> python toolchain. We have attempted to make setting up this toolchain as painless as possible using <a href="https://conda.io/miniconda.html">miniconda</a> and <a href="https://conda.io/docs/using/envs.html">conda environments</a>.</p>
</div>
<div class="paragraph">
<p>Please see the chapter on <a href="LSDTT_visualisation.html">LSDTopoTools visualisation</a> for instructions on how to <a href="LSDTT_visualisation.html#_installing_the_lsdtopotools_python_toolchain">install the LSDTopoTools python toolchain</a>.</p>
</div>
<div class="paragraph">
<p>The preferred way to install <strong>LSDTopoTools</strong> is via a Docker container (see <a href="#_installing_lsdtopotools_using_docker">previous sections</a>), but because our python tools use a large number of python packages we have a separate container for these tools.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_a_text_editor">7. Get a text editor!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A text editor isn&#8217;t part of <strong>LSDTopoTools</strong> but you need one to do anything. You will need to modify parameter files and you might even get to the stage of opening Pass:[c++] or Python scripts and editing them so you will need an editor.</p>
</div>
<div class="paragraph">
<p>If you are Linux native you probably chortle superiorly if you learn someone doesn&#8217;t use <code>vi</code> to modify files, but most students have usually only interacted with text files via a word processor.</p>
</div>
<div class="paragraph">
<p>A word processor (e.g., <strong>Word</strong>, or whatever fasionable software is on your fruit-based computer) <strong>will not work</strong> to modify code: these convert your text into binary files and add a bunch of formatting.</p>
</div>
<div class="paragraph">
<p>You need to work with raw <code>ascii</code> files, and for that you need a text editor. We like these:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://brackets.io/">Brackets</a> is a multi platform text editor (it works on all operating systems) and is free. It has nice file navigation. This documentation was written using Brackets.</p>
</li>
<li>
<p><a href="https://atom.io/">Atom</a> is another multi platform editor. Similar to Brackets. Also free.</p>
</li>
<li>
<p><a href="http://www.pspad.com/">PSPad</a> is a freeware text editor (it will ask you occasionally for a donation). I quite like it for Pass:[c++] code and other code since it has a quite nice built-in function navigator. It only works on Windows.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-09-03 15:41:57 UTC
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>