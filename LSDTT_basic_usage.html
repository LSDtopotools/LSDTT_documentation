<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="author" content="Simon M. Mudd School of GeoSciences, University of Edinburgh">
<title>Introduction to using LSDTopoTools</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Introduction to using LSDTopoTools</h1>
<div class="details">
<span id="author" class="author">Simon M. Mudd School of GeoSciences, University of Edinburgh</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction_and_overview">1. Introduction and overview</a>
<ul class="sectlevel2">
<li><a href="#_the_basic_structure_of_an_analysis">1.1. The basic structure of an analysis</a>
<ul class="sectlevel3">
<li><a href="#_running_a_typical_analysis">1.1.1. Running a typical analysis</a></li>
<li><a href="#_how_do_i_change_my_parameter_files">1.1.2. How do I change my parameter files?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_basic_analyses_in_lsdtopotools_using_the_lsdtt_basicmetrics_program">2. Basic analyses in LSDTopoTools using the LSDTT_BasicMetrics program</a>
<ul class="sectlevel2">
<li><a href="#_your_first_analysis_using_lsdtopotools">2.1. Your first analysis using LSDTopoTools</a>
<ul class="sectlevel3">
<li><a href="#_download_and_run_the_setup_tool">2.1.1. Download and run the setup tool</a></li>
<li><a href="#_add_the_basic_analysis_directory_to_your_path">2.1.2. Add the basic analysis directory to your path</a></li>
<li><a href="#_run_a_basic_analysis">2.1.3. Run a basic analysis</a></li>
</ul>
</li>
<li><a href="#_getting_surface_metrics">2.2. Getting surface metrics</a>
<ul class="sectlevel3">
<li><a href="#_questions_and_tasks_for_surface_metrics">2.2.1. Questions and tasks for surface metrics</a></li>
</ul>
</li>
<li><a href="#_drainage_area_and_channel_extraction">2.3. Drainage area and channel extraction</a>
<ul class="sectlevel3">
<li><a href="#_questions_for_channel_extraction">2.3.1. Questions for channel extraction.</a></li>
</ul>
</li>
<li><a href="#_summary">2.4. Summary</a></li>
</ul>
</li>
<li><a href="#_more_advanced_options_in_lsdtt_basicmetrics">3. More advanced options in LSDTT_BasicMetrics</a>
<ul class="sectlevel2">
<li><a href="#_what_channels_do_you_want_selecting_basins">3.1. What channels do you want? Selecting basins</a>
<ul class="sectlevel3">
<li><a href="#_geojson_data">3.1.1. Geojson data</a></li>
</ul>
</li>
<li><a href="#_picking_basins">3.2. Picking basins</a></li>
<li><a href="#_an_important_note_on_basin_selection">3.3. An important note on basin selection.</a></li>
<li><a href="#_getting_a_channel_network_with_more_information">3.4. Getting a channel network with more information</a></li>
</ul>
</li>
<li><a href="#_analysis_options_for_the_lsdtt_basicmetrics_program">Appendix A: Analysis options for the LSDTT_BasicMetrics program</a>
<ul class="sectlevel2">
<li><a href="#_basic_file_input_and_output">A.1. Basic file input and output</a></li>
<li><a href="#_dem_preprocessing">A.2. DEM preprocessing</a></li>
<li><a href="#_basic_data_output">A.3. Basic data output</a></li>
<li><a href="#_surface_fitting">A.4. Surface fitting</a></li>
<li><a href="#_drainage_area_extraction">A.5. Drainage area extraction</a></li>
<li><a href="#_basic_channel_extraction_and_printing">A.6. Basic channel extraction and printing</a></li>
<li><a href="#_more_advanced_channel_and_basin_selection">A.7. More advanced channel and basin selection</a>
<ul class="sectlevel3">
<li><a href="#_basic_parameters_for_the_chi_coordinate">A.7.1. Basic parameters for the chi coordinate</a></li>
</ul>
</li>
<li><a href="#_example_parameter_files">A.8. Example parameter files</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/LSD-logo.png" alt="LSD logo" width="200">
</div>
</div>
<div class="paragraph">
<p><a href="index.html">Return to main <strong>LSDTopoTools</strong> landing page</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_and_overview">1. Introduction and overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document takes you through an inital <strong>LSDTopoTools</strong> analysis. Through the tutorials contained here we will demonstrate how our analysis programs run: they all share a common interface.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Before you start</div>
<div class="paragraph">
<p>Before you start you need to install <strong>LSDTopoTools</strong>. If you haven&#8217;t done that, please follow the link below.</p>
</div>
<div class="paragraph">
<p><a href="LSDTT_installation.html">Instructions on how to install LSDTopoTools</a></p>
</div>
<div class="paragraph">
<p>In addition, you will need to use some basic linux shell commands. If you have never done this before I suggest reading this brief introduction: <a href="LSDTT_using_linux.html">Basic use of the linux shell</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_basic_structure_of_an_analysis">1.1. The basic structure of an analysis</h3>
<div class="paragraph">
<p>Our analyses are packaged into separate programs. They are run from the Linux shell. All of our programs operate the same way:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You keep the program and the data in two different directories.</p>
</li>
<li>
<p>The directory with the data also has a parameter file, which contains instructions for the program.</p>
</li>
<li>
<p>You have to tell the program where the data directory is, as well as the name of the parameter file. You do this from the command line.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The basic structure looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic_analysis.png" alt="The basic structre of an LSDTopoTools analysis" width="400">
</div>
<div class="title">Figure 1. All <strong>LSDTopoTools</strong> analyses work like this.</div>
</div>
<div class="sect3">
<h4 id="_running_a_typical_analysis">1.1.1. Running a typical analysis</h4>
<div class="paragraph">
<p>In the next section we will walk you though an analysis. However, reading this will help you understand where you are going, so we recommend you read the whole thing!</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We usually keep two terminal windows open.</p>
<div class="ulist">
<ul>
<li>
<p>The first one is in the directory with the program. We call the program from here.</p>
</li>
<li>
<p>The second one is in the directory with the data. The main reason we keep this open is to use the <code>pwd</code> command to copy the directory name into the first terminal window.</p>
</li>
</ul>
</div>
</li>
<li>
<p>In the first window you call the program. It will look like this:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ./An_LSDTT_program.exe /LSDTopoTools/Topographic_projects/A_project AParameterFile.param</code></pre>
</div>
</div>
</li>
<li>
<p>The program name (<code>./An_LSDTT_program.exe</code>), the directory name (<code>/LSDTopoTools/Topographic_projects/A_project</code>) and the parameter file name (<code>AParameterFile.param</code>) will change but all <strong>LSDTopoTools</strong> calls follow this same basic structure.</p>
</li>
<li>
<p>Now, all parameter files have these basic elements in them:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-paramfile" data-lang="paramfile">read path: /LSDTopoTools/Topographic_projects/A_project
write path: /LSDTopoTools/Topographic_projects/A_project
read fname: Data_prefix
write fname: Data_prefix</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>You need to change the path and fnames to reflect your data!</strong></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_how_do_i_change_my_parameter_files">1.1.2. How do I change my parameter files?</h4>
<div class="paragraph">
<p>You can edit your parameter files in a text editor: this is just a program that edits plain text. <strong>DO NOT</strong> use a word processor. These modify file types. There are many options for text editors but we like <a href="http://brackets.io/">Brackets</a>, or <a href="https://atom.io/">Atom</a> is also a nice alternative.</p>
</div>
<div class="paragraph">
<p>However, editing the paths can be a bit annoying if you are moving data from place to place, so we have a python script, called <code>LSDTTParamfileUpdater.py</code> that updates the paths in the parameter file for you. The way you run that is:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the script into your data folder (i.e. in the second terminal window you have open above):</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ wget https://raw.githubusercontent.com/LSDtopotools/LSDAutomation/master/LSDTTParamfileUpdater.py</code></pre>
</div>
</div>
</li>
<li>
<p>Run the file</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ python LSDTTParamfileUpdater.py</code></pre>
</div>
</div>
</li>
<li>
<p>Once you&#8217;ve done this you are ready to call the program!</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_basic_analyses_in_lsdtopotools_using_the_lsdtt_basicmetrics_program">2. Basic analyses in LSDTopoTools using the LSDTT_BasicMetrics program</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter will walk you through some basic topographic analysis using our program <strong>LSDTT_BasicMetrics</strong>. This program can extract topographic metrics like slope, aspect and curvature. Along side these metrics it can also extract channel networks, and get drainage areas. The program is intended for everyday data processing. A number of these operations are available in GIS software, but we tend to prefer <strong>LSDTopoTools</strong> because:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The slope and curvature metrics in typical GIS software only uses information from the nearest pixels. We fit a polynomial surface from a neighbourhood of pixels. See <a href="http://onlinelibrary.wiley.com/doi/10.1029/2011JF002057/abstract">Hurst et al., 2012, DOI: 10.1029/2011JF002057</a> and <a href="https://www.earth-surf-dynam.net/4/627/2016/">Grieve et al., 2016, doi:10.5194/esurf-4-627-2016</a> for the rationale.</p>
</li>
<li>
<p>Our channel extractions for the d8 method are based on the <a href="http://www.sciencedirect.com/science/article/pii/S0169555X12004618">FASTSCAPE</a> algorithm and are <strong>MUCH</strong> faster than running channel extraction in typical GIS software.</p>
</li>
<li>
<p>The program does some data preprocessing behind the scenes that you would need to do manually in a GIS.</p>
</li>
<li>
<p>We have automated some basin selection routines, which again you would need to do by hand in a GIS.</p>
</li>
<li>
<p>Our channel extraction spits out networks with drainage areas, locations, chi coordinates and all sorts of other goodies that again, would take ages on a GIS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The examples in this section are used for both <strong>LSDTopoTools</strong> workshops as well as in the <a href="http://www.ed.ac.uk/geosciences">University of Edinburgh</a> course, <a href="http://www.drps.ed.ac.uk/17-18/dpt/cxgegr10094.htm">Eroding Landscapes</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Before you start</div>
<div class="paragraph">
<p>Before you start you need to install <strong>LSDTopoTools</strong>. If you haven&#8217;t done that, please follow the link below.</p>
</div>
<div class="paragraph">
<p><a href="LSDTT_installation.html">Instructions on how to install LSDTopoTools</a></p>
</div>
<div class="paragraph">
<p>In addition, you will need to use some basic linux shell commands. If you have never done this before I suggest reading this brief introduction: <a href="LSDTT_using_linux.html">Basic use of the linux shell</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_your_first_analysis_using_lsdtopotools">2.1. Your first analysis using LSDTopoTools</h3>
<div class="paragraph">
<p>We are going to run an <strong>LSDTopoTools</strong> program that is used for basic topographic analysis.</p>
</div>
<div class="sect3">
<h4 id="_download_and_run_the_setup_tool">2.1.1. Download and run the setup tool</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You need to open a terminal or shell window. If you don&#8217;t know what this is <a href="LSDTT_installation.html">read the installation instructions</a>.</p>
</li>
<li>
<p>First open a terminal window. This will be in either a vagrant server, a docker container, an NX window or your native linux system, depending on how you <a href="LSDTT_installation.html">installed <strong>LSDTopoTools</strong></a>. Once you are in a terminal window, you will see some text and then a <code>$</code> symbol which tells you that the linux machine is waiting for a command. Type your commands after this symbol (in docker this might be a <code>#</code> symbol).</p>
</li>
<li>
<p>We are going to download a python script into your home directory. The <code>cd ~</code> command gets you to your home diretory in linux. Go there and then download a file using <code>wget</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~
$ wget https://raw.githubusercontent.com/LSDtopotools/LSDAutomation/master/LSDTopoToolsSetup.py</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Make sure the <code>wget</code> call (with the web address) is all on one line.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Now we run the setup tool. Doing this will trigger a bunch of stuff that will take a few minutes. You could waste some time <a href="https://twitter.com/David_Rudnick/status/923196115910119424">on the internet</a>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ python LSDTopoToolsSetup.py -id 0</code></pre>
</div>
</div>
</li>
<li>
<p>If you are on a native linux machine or Edinburgh servers, this will install <strong>LSDTopoTools</strong> in your home directory. In docker or vagrant it will install in the root directory (<code>/</code>).</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_add_the_basic_analysis_directory_to_your_path">2.1.2. Add the basic analysis directory to your path</h4>
<div class="paragraph">
<p>We find it is easiest to keep your data separate from the source code. But unless you want to have lots of terminal windows open you need to call <strong>LSDTopoTools</strong> from your data directories. That is rather annoying so to avoid that you need to add the location of the <strong>LSDTopoTools</strong> directories to your path.</p>
</div>
<div class="paragraph">
<p>In Vagrant or Docker, you do this with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ PATH=$PATH:/LSDTopoTools/Git_projects/LSDTopoTools_AnalysisDriver/Analysis_driver;export PATH</code></pre>
</div>
</div>
<div class="paragraph">
<p>On the university of Edinburgh servers you do this with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ PATH=$PATH:~/LSDTopoTools/Git_projects/LSDTopoTools_AnalysisDriver/Analysis_driver;export PATH</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The difference between Edinburgh servers (or a native linux installation) and Docker/Vagrant is that <strong>LSDTopoTools</strong> is installed in you home directory on the former and in the root directory in the latter. So for Edinburgh you need a <code>~</code> to begin your path and on DockerVagrant you don&#8217;t.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Adding a path in this way is not permanent so you need to do this each time you start a terminal session. If you want it to be permanent look up on the magical internets how to update your bashrc profile.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_run_a_basic_analysis">2.1.3. Run a basic analysis</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We need two terminal windows open. You already have one open, so open another one. I will colour note the terminal (<span class="red">Terminal 1</span> or <span class="blue">Terminal 2</span>) in each step</p>
</li>
<li>
<p><span class="red">Terminal 1</span> In the first terminal do the following:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="red">Terminal 1</span> In docker or vagrant:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /LSDTopoTools/Git_projects/LSDTopoTools_AnalysisDriver/Analysis_driver</code></pre>
</div>
</div>
</li>
<li>
<p><span class="red">Terminal 1</span> In native linux or on Edinburgh&#8217;s servers type:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~/LSDTopoTools/Git_projects/LSDTopoTools_AnalysisDriver/Analysis_driver</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><span class="red">Terminal 1</span> We will explain all this stuff in more detail later, for now just execute the commands.</p>
</li>
<li>
<p><span class="blue">Terminal 2</span> Now in the other terminal window type:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For vagrant/docker:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /LSDTopoTools/Topographic_projects/LSDTT_workshop_data/</code></pre>
</div>
</div>
</li>
<li>
<p>For native linux/Edinburgh:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~/LSDTopoTools/Topographic_projects/LSDTT_workshop_data/</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><span class="blue">Terminal 2</span> We want to update the path names. So get the path updater script and run it:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ wget https://raw.githubusercontent.com/LSDtopotools/LSDAutomation/master/LSDTTParamfileUpdater.py
$ python LSDTTParamfileUpdater.py</code></pre>
</div>
</div>
</li>
<li>
<p><span class="red">Terminal 1</span> Okay, now go back to the first terminal window. Type the following:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For docker/vagrant</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ./LSDTT_BasicMetrics.out /LSDTopoTools/Topographic_projects/LSDTT_workshop_data/ WA_BasicMetrics01.driver</code></pre>
</div>
</div>
</li>
<li>
<p>For native Linux/Edinburgh servers</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ./LSDTT_BasicMetrics.out ~/LSDTopoTools/Topographic_projects/LSDTT_workshop_data/ WA_BasicMetrics01.driver</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><span class="red">Terminal 1</span> If you had all the directory names correct, you will get some text to screen that ends with a statement about hillshading. In fact all this does is print a hillshade of the raster.</p>
</li>
<li>
<p>You can look at this raster in <a href="http://www.qgis.org/en/site/">QGIS</a>. We have some <a href="LSDTT_QGIS.html">instructions for QGIS</a>, if you want to see instructions for <a href="LSDTT_QGIS.html#_adding_data">adding data click here</a>.</p>
</li>
<li>
<p>Open QGIS and load the raster. The new raster is in the same directory with your other data and is called <code>WA_FirstExample_hs.bil</code>.The data will look like this:</p>
<div class="imageblock">
<div class="content">
<img src="images/WA_HS.jpg" alt="Whiteadder hillshade">
</div>
<div class="title">Figure 2. A hillshade of the Whiteadder catchement</div>
</div>
</li>
<li>
<p>As you can see, the DEM has quite a few artefacts. There isn&#8217;t much we can do about that, I&#8217;m afraid.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_getting_surface_metrics">2.2. Getting surface metrics</h3>
<div class="paragraph">
<p>Don&#8217;t worry, things are going to get easier. We are going to do essentially the same thing we did in the previous section:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First we make sure directories are correct in the <strong>driver</strong> file. This should have already happened if you have run <code>LSDTTParamfileUpdater.py</code>.</p>
</li>
<li>
<p>Second, we call <code>LSDTT_BasicMetrics.out</code> in the terminal.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the program:</p>
</li>
<li>
<p><span class="red">Terminal 1</span> We run the program again, but with a new driver file. Type the following:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For docker/vagrant</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ./LSDTT_BasicMetrics.out /LSDTopoTools/Topographic_projects/LSDTT_workshop_data/ WA_BasicMetrics02.driver</code></pre>
</div>
</div>
</li>
<li>
<p>For native Linux/Edinburgh servers</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ./LSDTT_BasicMetrics.out ~/LSDTopoTools/Topographic_projects/LSDTT_workshop_data/ WA_BasicMetrics02.driver</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>This does more stuff. We can look at the <strong>driver file</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-paramfile" data-lang="paramfile"># Parameters for extracting simple surface metrics
# Comments are preceded by the hash symbol

# These are parameters for the file i/o
# IMPORTANT: You MUST make the write directory: the code will not work if it doesn't exist.
read path: /LSDTopoTools/Topographic_projects/LSDTT_workshop_data/
write path: /LSDTopoTools/Topographic_projects/LSDTT_workshop_data/
read fname: WA
write fname: WA_SecondExample
channel heads fname: NULL

# Parameters for surface metrics
surface_fitting_radius: 11
print_slope: true
print_aspect: true
print_curvature: true
print_tangential_curvature: true</code></pre>
</div>
</div>
</li>
<li>
<p>In this case the program is printing <strong>slope</strong>, <strong>aspect</strong>, <strong>curvature</strong>, and <strong>tangential curvature</strong> rasters. They have filenames that reflect their contents so have a look. Slope tells you how steep the landscape is, aspect which direction the surface is pointing, curvature how, uh, curvy the landscape is (mathematically it is how quickly slope changes in space) and the tangential curvature is how curvy the landscape is in the direction of steepest descent. Essentially tangential curvature tells you how tightly curved contours are and is useful for finding valleys.</p>
</li>
<li>
<p>The way these are calculated is by fitting a surface of radius <code>surface_fitting_radius</code> to the points in the DEM and then calculating derivatives of that surface.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_questions_and_tasks_for_surface_metrics">2.2.1. Questions and tasks for surface metrics</h4>
<div class="ulist">
<ul>
<li>
<p>Try changing the <code>surface_fitting_radius</code>. What happens?</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_drainage_area_and_channel_extraction">2.3. Drainage area and channel extraction</h3>
<div class="paragraph">
<p>Finally, we will compute some drainage areas and extract a channel network. To do this run the <strong>driver file</strong> <code>WA_BasicMetrics03.driver</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the program using:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ./LSDTT_BasicMetrics.out /LSDTopoTools/Topographic_projects/LSDTT_workshop_data/ WA_BasicMetrics03.driver</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>OR</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ./LSDTT_BasicMetrics.out ~/LSDTopoTools/Topographic_projects/LSDTT_workshop_data/ WA_BasicMetrics03.driver</code></pre>
</div>
</div>
<div class="paragraph">
<p>I am going to let you figure out which one to use&#8230;&#8203;you will need to work this out on your own at some point.</p>
</div>
</li>
<li>
<p>Yet more stuff will come out. Some are drainage area rasters, but there is also a <code>csv</code> file, <code>WA_ThirdExample_CN.csv</code>.</p>
</li>
<li>
<p>You will get a file with points, which you can load into QGIS. You can read about how to do that <a href="LSDTT_QGIS.html#_import_point_data_from_text_or_spreadsheet">in our QGIS instructions</a>. You will get something that looks a bit like this:</p>
<div class="imageblock">
<div class="content">
<img src="images/WA_CN.jpg" alt="Whiteadder channel network">
</div>
<div class="title">Figure 3. A simple channel network</div>
</div>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_questions_for_channel_extraction">2.3.1. Questions for channel extraction.</h4>
<div class="ulist">
<ul>
<li>
<p>Try changing the <code>threshold_contributing_pixels</code> parameter. What happens to the channel network?</p>
</li>
<li>
<p>More advanced: You can get a smoothed elevation raster with the following <strong>driver file</strong> line: <code>print_smoothed_elevation: true</code>. Try creating a smoothed elevation raster and then using this smoothed raster for the drainage extraction. You will need to change the <code>read fname</code> parameter to reflect the smoothed raster.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary">2.4. Summary</h3>
<div class="paragraph">
<p>You now have seen the basic interface of <a href="http://lsdtopotools.github.io/">LSDTopoTools</a> programs, got a small taste of Linux, and know a few things about QGIS. From here you should be able to move on to more advanced topographic analysis.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_more_advanced_options_in_lsdtt_basicmetrics">3. More advanced options in LSDTT_BasicMetrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the most common operations when analysing topographic data is extracting channel networks. We have an entire <a href="LSDTT_channel_extraction.html">package for that</a>, which has a number of different <a href="https://zenodo.org/record/824198#.WfseyFu0OUk">channel extraction algorithms</a>.</p>
</div>
<div class="paragraph">
<p>However, many users just want channels extracted with the minimum of fuss and so we provide a simple channel profile extraction tool in <strong>LSDTT_BasicMetrics</strong>.</p>
</div>
<div class="sect2">
<h3 id="_what_channels_do_you_want_selecting_basins">3.1. What channels do you want? Selecting basins</h3>
<div class="paragraph">
<p>Sometimes you don&#8217;t want every channel in the landscape, but only particular channels. We have some basin selection tools for this.</p>
</div>
<div class="paragraph">
<p>The next driver file has some options for selecting basins (<code>WA_BasicMetrics04.driver</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-paramfile" data-lang="paramfile"># These are parameters for the file i/o
# IMPORTANT: You MUST make the write directory: the code will not work if it doesn't exist.
read path: /exports/csce/datastore/geos/users/smudd/analysis_for_papers/Test_basicmetrics/
write path: /exports/csce/datastore/geos/users/smudd/analysis_for_papers/Test_basicmetrics/
read fname: WA
write fname: WA_FourthExample
channel heads fname: NULL

# Basic channel network
threshold_contributing_pixels: 5000
print_junctions_to_csv: true

# Convert to json
convert_csv_to_geojson: true

# Getting the basins
find_basins: true
minimum_basin_size_pixels: 10000
maximum_basin_size_pixels: 100000000
only_take_largest_basin: false

# Print the basin raster
print_basin_raster: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>The key elements here are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find_basins: true</code> This tells the program to find specific basins</p>
</li>
<li>
<p><code>minimum_basin_size_pixels: 10000</code> This tells the program to get basins at least this big. They must be smaller than <code>maximum_basin_size_pixels</code>.</p>
</li>
<li>
<p><code>only_take_largest_basin</code> When false it finds all basins in the size window, whereas if tru you only get the larges basin.</p>
</li>
<li>
<p><code>print_basin_raster: true</code> this prints a basin raster.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Run the driver and have a look at the new files.</p>
</div>
<div class="paragraph">
<p>If you load the basin raster in QGIS (it has the extension <code>AllBasins</code>)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basins.jpg" alt="Whiteadder basins">
</div>
<div class="title">Figure 4. Basins extracted from the DEM</div>
</div>
<div class="paragraph">
<p>You can try modifying some of the parameters like the minimum and maximum basin size and the flag <code>only_take_largest_basin</code> to see what you get.</p>
</div>
<div class="sect3">
<h4 id="_geojson_data">3.1.1. Geojson data</h4>
<div class="paragraph">
<p>If you use the switch <code>convert_csv_to_geojson: true</code> the csv files will be converted to <a href="http://geojson.org/">geojson</a> files which can be loaded directly as shapefiles in a GIS. Have a look at our <a href="LSDTT_QGIS.html">QGIS documents</a>; we have <a href="LSDTT_QGIS.html#_adding_vector_data">instructions for loading "vector" data</a>. Geojson files contain GIS-readable vector data.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_picking_basins">3.2. Picking basins</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you ran the previous driver you will get a geojson file that has <code>_JN.geojson</code> in the name. If you load this data in a GIS you will see something like this:</p>
<div class="imageblock">
<div class="content">
<img src="images/junctions.jpg" alt="Whiteadder junctions">
</div>
<div class="title">Figure 5. Junctions in the DEM</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/junction_information.jpg" alt="Whiteadder junction information">
</div>
<div class="title">Figure 6. Junction information in the DEM</div>
</div>
<div class="paragraph">
<p>You can see in the table to the right the junction number is 12.</p>
</div>
</li>
<li>
<p>If you want to pick certain junctions you can make a text file and just write the junction numbers you want in that text file.</p>
</li>
<li>
<p>We have added a junctions file in the directory with the data called <code>selected_WA.junctions</code>. It has a few junctions picked. The line to add to the parameter file are:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-paramfile" data-lang="paramfile">BaselevelJunctions_file: /LSDTopoTools/Topographic_projects/LSDTT_workshop_data/selected_WA.junctions</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This line needs the entire path to your file. So you will probably need to go into the file and change the filename to match your directory structure.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Run the next parameter file (<code>WA_BasicMetrics05.driver</code>) and have a look at the basins generated. They will look something like this:</p>
<div class="imageblock">
<div class="content">
<img src="images/selected_basins.jpg" alt="Whiteadder selected basins">
</div>
<div class="title">Figure 7. Selected basins</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_an_important_note_on_basin_selection">3.3. An important note on basin selection.</h3>
<div class="paragraph">
<p>In <strong>LSDTopoTools</strong> basins are selected on the basis of junctions. But junctions have two or more contributing channels! The basin selected by a junction <strong>includes</strong> the channel going downstream that stops one pixel before the next junction. In this way we can select basins that are representative of a given <a href="https://en.wikipedia.org/wiki/Strahler_number">Strahler order</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_getting_a_channel_network_with_more_information">3.4. Getting a channel network with more information</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The next driver file is <code>WA_BasicMetrics06.driver</code> and it looks like this:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-paramfile" data-lang="paramfile"># These are parameters for the file i/o
# IMPORTANT: You MUST make the write directory: the code will not work if it doesn't exist.
read path: /exports/csce/datastore/geos/users/smudd/analysis_for_papers/Test_basicmetrics/
write path: /exports/csce/datastore/geos/users/smudd/analysis_for_papers/Test_basicmetrics/
read fname: WA
write fname: WA_SixthExample
channel heads fname: NULL

# Basic channel network
threshold_contributing_pixels: 5000

# Convert to json
convert_csv_to_geojson: true

# Getting the basins
find_basins: true
maximum_basin_size_pixels: 100000000
only_take_largest_basin: true

# Print the basin raster
print_chi_data_maps: true</code></pre>
</div>
</div>
</li>
<li>
<p>The key element of this file is <code>print_chi_data_maps: true</code>. This prints a channel network that you can load into a GIS (the file has the extension <code>_chi_data_map</code>):</p>
<div class="imageblock">
<div class="content">
<img src="images/chi_data_maps.jpg" alt="Channel network from chi data maps">
</div>
<div class="title">Figure 8. The channel network produced from the chi data maps</div>
</div>
</li>
<li>
<p>This looks a bit like the old channel network but the file contains much more information. If you open the csv file you will see the location of the points but also drainage area, elevation, flow distance, keys for identifying tributaries, and something called the chi coordinate, which you can read all about <a href="LSDTT_chi_analysis.html">in a different part of the documentation</a>.</p>
</li>
<li>
<p>You could, for example, make a chi-elevation plot using the data in the csv file:</p>
<div class="imageblock">
<div class="content">
<img src="images/chi_elevation.jpg" alt="Chi-elevation plot in the basin">
</div>
<div class="title">Figure 9. A chi-elevation plot for the basin</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_options_for_the_lsdtt_basicmetrics_program">Appendix A: Analysis options for the LSDTT_BasicMetrics program</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All <strong>LSDTopoTools</strong> parameter files have the same format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-paramfile" data-lang="paramfile"># comment
keyword: value
keywords with spaces: value</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The parameter file has a specific format, but the filename can be anything you want. We tend to use the extensions <code>.param</code> and <code>.driver</code> for these files, but you could use the extension <code>.MyDogSpot</code> if that tickled your fancy.
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">LSDTopoTools parameter file format</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>#</code> denotes a comment. The program will ignore line that start with this symbol.</p>
</li>
<li>
<p>Keywords or phrases are followed by a colon (<code>:</code>).</p>
</li>
<li>
<p>Keywords <strong>MUST be spelled exactly</strong>. They are not case sensitive. If you have a leading space it will not work. If you have a space before the colon (<code>:</code>) it will not work.</p>
</li>
<li>
<p>The order of the keywords do not matter.</p>
</li>
<li>
<p>If a keyword is not found, a default value is assigned. That is, you don&#8217;t need to worry about forgetting an essential parameter since they all are assigned default values.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Input format</div>
<div class="paragraph">
<p>Below are options for the parameter files. For these programs there are options for converting to point data, which requires georeferencing. Therefore, all DEMs must be in ENVI <code>bil</code> format (<strong>DO NOT</strong> use ArcMap&#8217;s bil format: these are two different things. See the section <a href="#Preparing your data">[Preparing your data]</a> if you want more details).
The reason we use <code>bil</code> format is because it retains georeferencing which is essential to our file output since many of the files output to <code>csv</code> format with latitude and longitude as coordinates.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_basic_file_input_and_output">A.1. Basic file input and output</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. File input and output options. <strong>These do not have defaults and MUST be declared</strong>.</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Input type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">write path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to which data is written. <strong>The code will NOT create a path: you need to make the write path before you start running the program.</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">read path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path from which data is read.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">write fname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The prefix of rasters to be written <strong>without extension</strong>.
For example if this is <code>Test</code> and you have selected <code>bil</code> format then a fill operation will result in a file called <code>Test_Fill.bil</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">read fname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The filename of the raster to be read without extension. For example if the raster is <code>MyRaster.bil</code>, read fname will be <code>MyRaster</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">channel heads fname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The filename of a channel heads file. You can import channel heads. If this is set to <code>NULL</code> then the channels will be calculated using a pixel threshold.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_dem_preprocessing">A.2. DEM preprocessing</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. DEM preprocessing. These just help you clean data and perform very basic operations.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Input type</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">minimum_elevation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you have the <code>remove_seas</code> keyword set to true, the program will change any elevation node below this value to NoData.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum_elevation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you have the <code>remove_seas</code> keyword set to true, the program will change any elevation node above this value to NoData.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove_seas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, this changes extreme value in the elevation to NoData.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">min_slope_for_fill</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The minimum slope between pixels for use in the fill function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">raster_is_filled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, the code assumes the raster is already filled and doesn&#8217;t perform the filling routine. This should save some time in computation, but make sure the raster really is filled or else you will get segmentation faults!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">only_check_parameters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, this checks parameter values but doesn&#8217;t run any analyses. Mainly used to see if raster files exist.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_basic_data_output">A.3. Basic data output</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Basic printing operations. For simple rasters and network data that doesn&#8217;t require chi analysis.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Input type</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">convert_csv_to_geojson</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, this converts any csv file (except for slope-area data) to geojson format. This format takes up much more space than csv (file sizes can be 10x larger) but is georeferenced and can be loaded directly into a GIS. Also useful for webmapping. It assumes your raster is in UTM coordinates, and prints points with latitude and longitude in WGS84.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_raster_without_seas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints a raster that has removed the seas (and very high peaks). This is useful if your NoDataValue is not registering and you use the <code>minimum_elevation</code>, <code>maximum_eleation</code>, and <code>remove_seas</code> flags to correct this. <strong>WARNING!</strong> This overwrites your original raster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_fill_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the fill raster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">write_hillshade</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the hillshade raster. The format of this is stupidly different from other printing calls for a stupid inheritance reason. Try to ignore. Most GIS routines have a hillshading options but for some reason they look crappier than our in-house hillshading. I&#8217;m not sure why but if you want a hillshade I recommend using this function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_distance_from_outlet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prints a raster that gives the distance from the outlet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_wiener_filtered_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This returns a filtered raster using something called a <a href="https://en.wikipedia.org/wiki/Wiener_filter">Wiener filter</a>. It is a rather fancy way to smooth topography. Note that this uses a memory-hungry <a href="https://betterexplained.com/articles/an-interactive-guide-to-the-fourier-transform/">fourier transform</a> and so will struggle or even crash on large DEMs.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_surface_fitting">A.4. Surface fitting</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. These are options for polynomial surface fitting.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Input type</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">surface_fitting_radius</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The radius of the polynomial window over which the surface is fitted. If you have lidar data, we have found that a radius of 5-8 metres works best.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_smoothed_elevation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prints a raster of elevations that have been smoothed over the polynomial window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_slope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the topographic gradient raster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_aspect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the aspect raster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_curvature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the curvature raster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_planform_curvature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the planform curvature raster. That is the curvature of the countour lines.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_profile_curvature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the profile curvature raster. That is the curvature along the line of steepest descent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_tangential_curvature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the tangential curvature raster. This is the curvature perpendicular to the line of steepest descent. A bit like the planform curvature but adjusted for slope.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_point_classification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints a point classification raster. This takes the value 1 if there is a peak, 2 if there is a depression and 3 if there is a saddle.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_drainage_area_extraction">A.5. Drainage area extraction</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. These are options for drainage area extraction.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Input type</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">surface_fitting_radius</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The radius of the polynomial window over which the surface is fitted. If you have lidar data, we have found that a radius of 5-8 metres works best.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_dinf_drainage_area_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints drainage area calculated using the d-infinity algorithm.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_d8_drainage_area_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints drainage area calculated using the d8 algorithm. This is simply the steepest of the 8 nearest neighbours.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_QuinnMD_drainage_area_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints drainage area calculated using the Quinn algorithm. This is a multiple flow direction algorithm.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_FreemanMD_drainage_area_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints drainage area calculated using the Freeman algorithm. This is a multiple flow direction algorithm.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_MD_drainage_area_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints drainage area calculated using the multidirectional algorithm. This is a multiple flow direction algorithm. Unlike the Quinn and Freeman algorithms it makes no attempt whatsoever to control dispersion.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_basic_channel_extraction_and_printing">A.6. Basic channel extraction and printing</h3>
<div class="paragraph">
<p>This simply gets a channel network and prints its location. It is a rather rudimentary way of seeing where channels are. More advanced options are in the next table.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. These are options for drainage area extraction.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Input type</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_stream_order_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the stream order raster (but printing this to csv is more efficient, use <code>print_channels_to_csv</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_channels_to_csv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prints the channel network to a csv file. Includes stream order and other useful information. Much more memory efficient than printing the whole raster. It prints <strong>all</strong> channel nodes across the DEM rather than printing nodes upstream of selected basins. <strong>If you want to see the channels selected for chi analysis use <code>print_chi_data_maps</code>.</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_junction_index_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints the junction index raster (but printing this to csv is more efficient, use <code>print_junctions_to_csv</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_junctions_to_csv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prints the junction indices to a csv file. Much more memory efficient than printing the whole raster.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_more_advanced_channel_and_basin_selection">A.7. More advanced channel and basin selection</h3>
<div class="paragraph">
<p>These options give you a bit of control over selecting basins.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you just want the largest complete basin, set <code>find_largest_complete_basins: true</code> <strong>AND</strong> <code>maximum_basin_size_pixels: 10000000000000</code> (or any really big number).
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. Options for determining which channels and basins to analyse, including settings for the fill function.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 50.0002%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Input type</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">find_basins</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If this is true, it i) Gets all the basins in a DEM and takes those between the <code>minimum_basin_size_pixels</code> and <code>maximum_basin_size_pixels</code>. It then removes basins that are influenced by the edge of the DEM, and then removes nested basins. The reason for removing basins draining the edge is that all drainage areas and chi coordinates require that the basin is complete. If not, your areas and chi coordinate, will be incorrect.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BaselevelJunctions_file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You can write a file that contains a list of junction numbers (to see where they are, use <code>print_junctions_to_csv</code>) to get basins above specific junctions only. The file format is just a list of integers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CHeads_file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This reads a channel heads file. It will supercede the <code>threshold_contributing_pixels</code> flag. That is, if you give a valid CHeads filename the code will ignore the threshold pixels and use the sources in the file instead. You can calculate channel heads using our <a href="https://github.com/LSDtopotools/LSDTopoTools_ChannelExtraction">channel extraction tools</a>. The file needs to be a <strong>csv</strong> file and you pass the filename <strong>WITHOUT EXTENSION</strong>. The format of the filename is one with 5 columns: <code>node_index,row,col,x,y</code>. The <code>x,y</code> coordinates are in local UTM coordinates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">threshold_contributing_pixels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of pixels required to generate a channel (i.e., the source threshold).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">minimum_basin_size_pixels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The minimum number of pixels in a basin for it to be retained. This operation works on the baselevel basins: subbasins within a large basin are retained.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum_basin_size_pixels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">500000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of pixels in a basin for it to be retained. This is only used by <code>find_complete_basins_in_window</code> but that algorithm for selecting basins is the default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extend_channel_to_node_before_receiver_junction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, the channel network will extend beyond selected baselevel junctions downstream until it reaches the pixel before the receiver junction. If false, the channel simply extends upstream from the selected basin. The reason for this switch is because if one if extracting basins by drainage order, then the, say, a 2nd order drainage basin starts at the node immediately upstream of the most upstream 3rd order junction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">only_take_largest_basin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool (true or 1 will work)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If this is true, a chi map is created based only upon the largest basin in the raster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_basin_raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, prints a raster with the basins. <strong>IMPORTANT!</strong> This should be set to true if you want to use any of our <a href="https://github.com/LSDtopotools/LSDMappingTools">python plotting functions</a> that use basin information. Note that if this is true it will also print csv files with basin numbers and source numbers to assist plotting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print_chi_data_maps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This prints the channel networks (a bit like <code>print_channels_to_csv</code>) but contains <strong>MUCH</strong> more informatioon: elevation, flow distance, dranage area (from d8), the chi coordinate (have a look at our <a href="LSDTT_chi_analysis.html">chi documentation for more details</a>) and various keys to sources and basins so you can colour or sort channels by basin or tributary if you want. If you are going to work with channels using <strong>LSDTT_BasicMetrics</strong> this is the output to use.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_basic_parameters_for_the_chi_coordinate">A.7.1. Basic parameters for the chi coordinate</h4>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 8. Parameters for calculating the chi coordinate.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Input type</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>A<sub>0</sub></em> parameter (which nondimensionalises area) for chi analysis. This is in m<sup>2</sup>. Note that when <em>A<sub>0</sub></em> = 1 then the slope in chi space is the same as the channel steepness index (often denoted by <em>k<sub>s</sub></em>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">m_over_n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>m/n</em> parameter (sometimes known as the concavity index) for calculating chi. Note that if you do any <em>m/n</em> analysis (either <code>calculate_MLE_collinearity</code> or <code>print_profiles_fxn_movern_csv</code>) this <em>m/n</em> value will be replaced.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_example_parameter_files">A.8. Example parameter files</h3>
<div class="paragraph">
<p>We have a number of example parameter files in the repository <a href="https://github.com/LSDtopotools/LSDTT_chi_examples">LSDTT_chi_examples</a>. The chapter on examples will walk you through the various things these files do.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-01-08 12:11:43 UTC
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>