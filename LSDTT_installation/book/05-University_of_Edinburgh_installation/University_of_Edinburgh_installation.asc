== Installing LSDTopoTools at the University of Edinburgh.

These instructions are for students and staff within the https://www.ed.ac.uk/geosciences[School of GeoSciences] at the https://www.ed.ac.uk/[University of Edinburgh].


.Quick Setup for Edinburgh Geoscience users
************************************************************
*If it is the first time you are using LSDTopoTools*

. In the windows search bar, look for *MobaXterm personal edition*.
. When you open this, click on the button that says *start local terminal*.
. In the terminal window, type `ssh UUN@ssh.geos.ed.ac.uk` and enter your password. UUN is your university user name. 
. This puts you into the university ssh server, which is slow. Move into a better one by typing `ssh burn`. 
. Go into your T: drive by entering: `cd /exports/csce/datastore/geos/users/UUN`
. Now enter: `git clone https://github.com/LSDtopotools/LSDTopoTools2.git`
. Now enter: `cd LSDTopoTools2/src/`
. Now enter: `sh build.sh`
. You will need to wait a bit for this step. 
. Now enter: `cd ..`
. Finally enter: `sh lsdtt2_terminal.sh`

*If you have already followed the instructions above once*

. In the windows search bar, look for *MobaXterm personal edition*.
. When you open this, click on the button that says *start local terminal*.
. In the terminal window, type `ssh UUN@ssh.geos.ed.ac.uk` and enter your password. UUN is your university user name. 
. This puts you into the university ssh server, which is slow. Move into a better one by typing `ssh burn` 
. Go into your T: drive by entering: `cd /exports/csce/datastore/geos/users/UUN` 
. Now enter: `cd LSDTopoTools2`
. Finally enter: `sh lsdtt2_terminal.sh`
************************************************************






=== Mapping your network drive

You will need access to your data on the network drive to use *LSDTopoTools*. You only need to do this one in any computer lab (and possibly only once ever):

. Open a file explorer window and under computer select the "University drive":
+
.The university drive
image::images/Udrive.jpg[The U drive]
+
. Then go into the Science and Engineering folder ("SCE"):
+
.The science and engineering folder
image::images/SCE.jpg[SCE]
+
. Then into the GeoSciences folder ("GEOS"):
+
.The geosciences folder
image::images/GEOS.jpg[GEOS]
+
. Then into the Drive Mapping folder ("drive_mapping"):
+
.The drive mapping folder
image::images/DMAP.jpg[Drive mapping]
+
. And finally double click the shortcut "Access Netdata":
+
.The access netdata shortcut
image::images/NDATA.jpg[Access netdata]

=== Getting on to our servers with MobaXterm

. Use the windows search to find the program *MobaXterm*.
. When you open this, click on the button that says *start local terminal*.
. In the terminal window, type `ssh UUN@ssh.geos.ed.ac.uk` and enter your password. UUN is your university user name. 
. This puts you into the university ssh server, which is slow. Move into a better one by typing `ssh burn`. 
. Go into your *T:* drive by entering: `cd /exports/csce/datastore/geos/users/UUN`

=== Don't be messy

. You can organise your directories however you want, but I find it is easier to keep everything contined in a single *LSDTopoTools* directory. 
. So, I suggest makeing a directory called `LSDTopoTools` (you can use `mkdir LSDTopoTools`) and then go into that directory `cd LSDTopoTools` for the next steps. 
. Inside this directory you can put the source code, any data or projects, and the python visualisation code. But in the next step we will just get the source code in set up the main *LSDTopoTools* programs. 

=== Cloning the LSDTopoTools2 repository

*LSDTopoTools2*, which has the main analysis programs, lives in a https://github.com/[github] repository and you use a program names https://git-scm.com/[git] to get it. Don't worry, this is easy. 

. Type (or copy and paste): `git clone https://github.com/LSDtopotools/LSDTopoTools2.git`
. It will download some stuff. Now you need to build the software. 

=== Building the software

. Type: `sh lsdtt2_setup.sh`
. Wait a bit until it finishes. It should take a minute or two. 
. You can now navigate to your data and start using *LSDTopoTools*. See link:LSDTT_basic_usage.html[our section on first analyses in *LSDTopoTools*].

=== Starting an LSDTopoTools2 session after your first installation

* Whenever you return to run an *LSDTopoTools2* session, you will need to tell the computer where your program files are. You cave two options:
** Run `sh lsdtt2_setup.sh` in the *LSDTopoTools2* directory. This gets the latest version of the software, recompiles, and points your session to the program files. 
** Run `sh lsdtt2_terminal.sh` in the *LSDTopoTools2* directory. This just points your session to the program files.
* You must do one of those two things otherwise your computer will not know where the program files are. 
* As an alternative, you can go into yor `.bashrc` file and add the `/path/to/LSDTopoTools2/bin` directory to your `$PATH`. You will need to change the full path to reflect your own directory system. If you don't know what a `.bashrc` file is you are probably better off running the `lsdtt2_terminal.sh` script. 


=== Getting the example data

. Create a data directory. The documentation assumes this directory structure:  +
| Your home directory (native linx) or the root directory (docker)  +
--|LSDTopoTools  +
----| LSDTopoTools2  +
------| subdirectories with source code and programs +
----| data  +
------| subdirectories with different projects +
----| Other LSDTopoTools directories (e.g., LSDMappingTools, LSDTT_documentation)
+
. So, if you don't have a data directory, make one. Again, we suggest putting this in an *LSDTopoTools* directory:
+
[source, console]
----
$ cd ~/LSDTopoTools
$ mkdir data
----
+
. If the command `cd ~/LSDTopoTools` doesn't work it means you haven't made the *LSDTopoTools* directory
+
. Go into the data directory and grab the example data from github, then unzip and clean the zip file:
+
[source,console]
----
$ cd data
$ wget https://github.com/LSDtopotools/ExampleTopoDatasets/archive/master.zip
$ unzip master.zip
$ mv ./ExampleTopoDatasets-master ./ExampleTopoDatasets
$ rm master.zip
----
+
. You should now have the example data that is used in the rest of this documentation.


