== Getting the software

First, you should follow the instructions on link:LSDTT_installation.html[installing *LSDTopoTools*].

Once you have a functioning Linux system (this can be within any operating environment, see link:LSDTT_installation.html[installation instructions]) you then need to get the chi analysis code. 

=== What versions of the software are there?

The first version of our chi mapping software was released along with the http://onlinelibrary.wiley.com/doi/10.1002/2013JF002981/abstract[Mudd et al. 2014 paper] in JGR-Earth Surface. The first version ws used in a number of papers and the instructions and code are archived on http://www.csdms.org[the CSDMS website]. However it has a few drawbacks: 

* It only mapped the main stems and direct tributaries to the main stem.
* It was slow. 
* It was difficult to use, involving 4 different programs to get to the final analysis.

Since 2014 we have been working to fix these problems. The new program, which we call the *Chi Mapping Tool* retains some of the original algorithms of the 2014 paper (please cite that paper if you use it for your research!) but has a number of new features. 

* It can map across all channels in a landscape.
* It has much better routines for determining the landscape _m/n_ ratio (and this is the subject of a new ESURF discussion paper). 
* It is all packaged into a single program rather than 4 separate programs. 
* It is very computationally intensive, so still relatively slow (compared to, say, simple slope--area analysis) but is much faster than the old version. 
* It is better integrated with our visualisation tools. I'm afraid the visualisation tools are the least well documented component of the software so please bear with us while we bring this up to a good standard. 

The instructions you see below are all for the *Chi Mapping Tool*: you should only use the older versions of the code if you want to reproduce a result from a past paper. 

=== Installing the code and setting up directories


.Easy setup quick start
**********************************************
If you just want to get started with the standard setup without any details, do the following:

. Go into a Linux terminal. If you are on your own computer and it is not Linux, you will need to start a Vagrant session. You will need https://www.python.org/[python] but this is now standard on most Linux distributions so we will assume you have it. 
. If you used our vagrantfile the setup tool will already be on your vagrant box. It is sitting in the LSDTopoTools directory. You can go there with `cd /LSDTopoTools`.
. If you are on your own linux machine you can get the setuptool with:
+
[source]
----
$ wget https://raw.githubusercontent.com/LSDtopotools/LSDAutomation/master/LSDTopoToolsSetup.py
----
+
. Run the setup tool:
+
[source,console]
----
$ python LSDTopoToolsSetup.py -id 0 -ChiM True
----
+
. You are ready to go!!
+
NOTE: *For native Linux users*: The `-id` flag tells LSDTopoToolsSetup.py where to put the files. In vagrant it always starts in the root directory (this is for file syncing purposes). However, if your native operating system is Linux, then you can either install in your home directory (`-id 0`) or in the directory where you called LSDTopoToolsSetup.py (`-id 1`). 
**********************************************

. The first thing you need to do is get our python program *LSDTopoToolsSetUp.py*. It lives here: https://github.com/LSDtopotools/LSDAutomation/blob/master/LSDTopoToolsSetup.py
+
You will need to run this file in your Linux environment, so in a terminal window type:
+
[source]
----
$ wget https://raw.githubusercontent.com/LSDtopotools/LSDAutomation/master/LSDTopoToolsSetup.py
----
+
NOTE: If `wget` doesn't work, you can follow the link:
https://raw.githubusercontent.com/LSDtopotools/LSDAutomation/master/LSDTopoToolsSetup.py +
Copy the text, paste it into a text editor and save it as `LSDTopoToolsSetup.py`. 
+
. Now, in your terminal window run this script. It has some options:
+
.. For the most basic setup, type:
+
[source,console]
----
$ python LSDTopoToolsSetup.py -id 0 -ChiM True
----
+
In our Vagrant setup, this will install everything in the root directory (you can go there with `$ cd /`),  which is the default setup generated by our https://github.com/LSDtopotools/LSDTT_vagrantfiles[Vagrantfile]. If you are not in vagrant the *LSDTopoTools* directories will be in your home directory (you can get there with `$ cd ~`).
+ 
.. If you don't want *LSDTopoTools* in your home directory, you can install it in your current directory with:
+
[source,console]
----
$ python LSDTopoToolsSetup.py -id 1 -ChiM True
----
+
. It turns out the `LSDTopoToolsSetup.py` tool has a number of options but this documentation is for the chi tools so we aren't going to bother to explain them. However, if you want a preview of what it does, you can call its help options:
+
[source,console]
----
$ python LSDTopoToolsSetup.py -h
----
